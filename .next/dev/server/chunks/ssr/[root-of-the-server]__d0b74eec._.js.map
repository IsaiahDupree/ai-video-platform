{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/isaiahdupree/Documents/Software/ai-video-platform/src/services/tracking.ts"],"sourcesContent":["import posthog from 'posthog-js';\nimport {\n  TrackingConfig,\n  UserProperties,\n  EventProperties,\n  TrackingEvent,\n  ITrackingService,\n} from '../types/tracking';\n\nclass ClientTrackingService implements ITrackingService {\n  private initialized = false;\n  private enabled = false;\n\n  constructor() {\n    if (typeof window === 'undefined') {\n      return;\n    }\n  }\n\n  initialize(config: TrackingConfig): void {\n    if (this.initialized) {\n      console.warn('Tracking service already initialized');\n      return;\n    }\n\n    if (!config.apiKey) {\n      console.warn('PostHog API key not provided. Tracking disabled.');\n      this.enabled = false;\n      return;\n    }\n\n    this.enabled = config.enabled !== false;\n\n    if (!this.enabled) {\n      console.info('Tracking is disabled');\n      return;\n    }\n\n    try {\n      posthog.init(config.apiKey, {\n        api_host: config.host || 'https://us.i.posthog.com',\n        loaded: (posthog) => {\n          if (process.env.NODE_ENV === 'development') {\n            posthog.debug();\n          }\n        },\n        capture_pageview: false,\n        capture_pageleave: true,\n        autocapture: false,\n        persistence: 'localStorage+cookie',\n      });\n\n      this.initialized = true;\n      console.info('PostHog tracking initialized');\n    } catch (error) {\n      console.error('Failed to initialize PostHog:', error);\n      this.enabled = false;\n    }\n  }\n\n  identify(userId: string, properties?: UserProperties): void {\n    if (!this.isEnabled()) return;\n\n    try {\n      posthog.identify(userId, properties);\n    } catch (error) {\n      console.error('Failed to identify user:', error);\n    }\n  }\n\n  track(event: TrackingEvent, properties?: EventProperties): void {\n    if (!this.isEnabled()) {\n      console.debug('Tracking disabled, skipping event:', event);\n      return;\n    }\n\n    try {\n      posthog.capture(event, properties);\n    } catch (error) {\n      console.error('Failed to track event:', error);\n    }\n  }\n\n  page(name?: string, properties?: EventProperties): void {\n    if (!this.isEnabled()) return;\n\n    try {\n      posthog.capture('$pageview', {\n        $current_url: window.location.href,\n        page_name: name,\n        ...properties,\n      });\n    } catch (error) {\n      console.error('Failed to track page view:', error);\n    }\n  }\n\n  reset(): void {\n    if (!this.isEnabled()) return;\n\n    try {\n      posthog.reset();\n    } catch (error) {\n      console.error('Failed to reset tracking:', error);\n    }\n  }\n\n  isEnabled(): boolean {\n    return this.initialized && this.enabled;\n  }\n}\n\nexport const tracking = new ClientTrackingService();\n"],"names":[],"mappings":";;;;AAAA;;AASA,MAAM;IACI,cAAc,MAAM;IACpB,UAAU,MAAM;IAExB,aAAc;QACZ,wCAAmC;YACjC;QACF;IACF;IAEA,WAAW,MAAsB,EAAQ;QACvC,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,QAAQ,IAAI,CAAC;YACb;QACF;QAEA,IAAI,CAAC,OAAO,MAAM,EAAE;YAClB,QAAQ,IAAI,CAAC;YACb,IAAI,CAAC,OAAO,GAAG;YACf;QACF;QAEA,IAAI,CAAC,OAAO,GAAG,OAAO,OAAO,KAAK;QAElC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,QAAQ,IAAI,CAAC;YACb;QACF;QAEA,IAAI;YACF,0JAAO,CAAC,IAAI,CAAC,OAAO,MAAM,EAAE;gBAC1B,UAAU,OAAO,IAAI,IAAI;gBACzB,QAAQ,CAAC;oBACP,wCAA4C;wBAC1C,QAAQ,KAAK;oBACf;gBACF;gBACA,kBAAkB;gBAClB,mBAAmB;gBACnB,aAAa;gBACb,aAAa;YACf;YAEA,IAAI,CAAC,WAAW,GAAG;YACnB,QAAQ,IAAI,CAAC;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,IAAI,CAAC,OAAO,GAAG;QACjB;IACF;IAEA,SAAS,MAAc,EAAE,UAA2B,EAAQ;QAC1D,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI;QAEvB,IAAI;YACF,0JAAO,CAAC,QAAQ,CAAC,QAAQ;QAC3B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,MAAM,KAAoB,EAAE,UAA4B,EAAQ;QAC9D,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI;YACrB,QAAQ,KAAK,CAAC,sCAAsC;YACpD;QACF;QAEA,IAAI;YACF,0JAAO,CAAC,OAAO,CAAC,OAAO;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,KAAK,IAAa,EAAE,UAA4B,EAAQ;QACtD,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI;QAEvB,IAAI;YACF,0JAAO,CAAC,OAAO,CAAC,aAAa;gBAC3B,cAAc,OAAO,QAAQ,CAAC,IAAI;gBAClC,WAAW;gBACX,GAAG,UAAU;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,QAAc;QACZ,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI;QAEvB,IAAI;YACF,0JAAO,CAAC,KAAK;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACF;IAEA,YAAqB;QACnB,OAAO,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO;IACzC;AACF;AAEO,MAAM,WAAW,IAAI"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/isaiahdupree/Documents/Software/ai-video-platform/src/components/TrackingProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, createContext, useContext, ReactNode } from 'react';\nimport { tracking } from '../services/tracking';\nimport { ITrackingService } from '../types/tracking';\n\nconst TrackingContext = createContext<ITrackingService>(tracking);\n\nexport const useTracking = () => {\n  return useContext(TrackingContext);\n};\n\ninterface TrackingProviderProps {\n  children: ReactNode;\n  apiKey?: string;\n  host?: string;\n  enabled?: boolean;\n}\n\nexport function TrackingProvider({\n  children,\n  apiKey,\n  host,\n  enabled = true,\n}: TrackingProviderProps) {\n  useEffect(() => {\n    const key = apiKey || process.env.NEXT_PUBLIC_POSTHOG_KEY;\n    const hostUrl = host || process.env.NEXT_PUBLIC_POSTHOG_HOST;\n\n    if (key) {\n      tracking.initialize({\n        apiKey: key,\n        host: hostUrl,\n        enabled,\n      });\n    }\n  }, [apiKey, host, enabled]);\n\n  return (\n    <TrackingContext.Provider value={tracking}>\n      {children}\n    </TrackingContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAMA,MAAM,gCAAkB,IAAA,sNAAa,EAAmB,uIAAQ;AAEzD,MAAM,cAAc;IACzB,OAAO,IAAA,mNAAU,EAAC;AACpB;AASO,SAAS,iBAAiB,EAC/B,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,UAAU,IAAI,EACQ;IACtB,IAAA,kNAAS,EAAC;QACR,MAAM,MAAM,UAAU,QAAQ,GAAG,CAAC,uBAAuB;QACzD,MAAM,UAAU,QAAQ,QAAQ,GAAG,CAAC,wBAAwB;QAE5D,IAAI,KAAK;YACP,uIAAQ,CAAC,UAAU,CAAC;gBAClB,QAAQ;gBACR,MAAM;gBACN;YACF;QACF;IACF,GAAG;QAAC;QAAQ;QAAM;KAAQ;IAE1B,qBACE,8OAAC,gBAAgB,QAAQ;QAAC,OAAO,uIAAQ;kBACtC;;;;;;AAGP"}}]
}