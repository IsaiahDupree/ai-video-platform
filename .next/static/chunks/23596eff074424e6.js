(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96083,e=>{e.v({actionButton:"ReviewItemCard-module__LdjCCW__actionButton",actionButtons:"ReviewItemCard-module__LdjCCW__actionButtons",actions:"ReviewItemCard-module__LdjCCW__actions",card:"ReviewItemCard-module__LdjCCW__card",commentInput:"ReviewItemCard-module__LdjCCW__commentInput",commentsIndicator:"ReviewItemCard-module__LdjCCW__commentsIndicator",content:"ReviewItemCard-module__LdjCCW__content",description:"ReviewItemCard-module__LdjCCW__description",header:"ReviewItemCard-module__LdjCCW__header",metadata:"ReviewItemCard-module__LdjCCW__metadata",metadataItem:"ReviewItemCard-module__LdjCCW__metadataItem",metadataLabel:"ReviewItemCard-module__LdjCCW__metadataLabel",metadataValue:"ReviewItemCard-module__LdjCCW__metadataValue",modal:"ReviewItemCard-module__LdjCCW__modal",modalBody:"ReviewItemCard-module__LdjCCW__modalBody",modalCancelButton:"ReviewItemCard-module__LdjCCW__modalCancelButton",modalClose:"ReviewItemCard-module__LdjCCW__modalClose",modalContent:"ReviewItemCard-module__LdjCCW__modalContent",modalFooter:"ReviewItemCard-module__LdjCCW__modalFooter",modalHeader:"ReviewItemCard-module__LdjCCW__modalHeader",modalSubmitButton:"ReviewItemCard-module__LdjCCW__modalSubmitButton",statusBadge:"ReviewItemCard-module__LdjCCW__statusBadge",tag:"ReviewItemCard-module__LdjCCW__tag",tags:"ReviewItemCard-module__LdjCCW__tags",thumbnail:"ReviewItemCard-module__LdjCCW__thumbnail",thumbnailImage:"ReviewItemCard-module__LdjCCW__thumbnailImage",title:"ReviewItemCard-module__LdjCCW__title",viewButton:"ReviewItemCard-module__LdjCCW__viewButton"})},73542,e=>{e.v({clearButton:"ReviewFilters-module__Z0fMNa__clearButton",clearSection:"ReviewFilters-module__Z0fMNa__clearSection",container:"ReviewFilters-module__Z0fMNa__container",searchInput:"ReviewFilters-module__Z0fMNa__searchInput",section:"ReviewFilters-module__Z0fMNa__section",sectionTitle:"ReviewFilters-module__Z0fMNa__sectionTitle",statusButton:"ReviewFilters-module__Z0fMNa__statusButton",statusButtonActive:"ReviewFilters-module__Z0fMNa__statusButtonActive",statusFilters:"ReviewFilters-module__Z0fMNa__statusFilters"})},87388,e=>{e.v({container:"ApprovalStats-module__ikRfqG__container",stat:"ApprovalStats-module__ikRfqG__stat",statContent:"ApprovalStats-module__ikRfqG__statContent",statIcon:"ApprovalStats-module__ikRfqG__statIcon",statLabel:"ApprovalStats-module__ikRfqG__statLabel",statValue:"ApprovalStats-module__ikRfqG__statValue"})},49881,e=>{e.v({container:"review-module__W8-LxG__container",emptyIcon:"review-module__W8-LxG__emptyIcon",emptyState:"review-module__W8-LxG__emptyState",error:"review-module__W8-LxG__error",header:"review-module__W8-LxG__header",itemsGrid:"review-module__W8-LxG__itemsGrid",itemsHeader:"review-module__W8-LxG__itemsHeader",itemsSection:"review-module__W8-LxG__itemsSection",itemsTitle:"review-module__W8-LxG__itemsTitle",loading:"review-module__W8-LxG__loading",subtitle:"review-module__W8-LxG__subtitle",title:"review-module__W8-LxG__title"})},39200,e=>{"use strict";var a,t,s,l,d,i,r=e.i(43476),n=e.i(71645),o=((a={}).OWNER="owner",a.ADMIN="admin",a.EDITOR="editor",a.VIEWER="viewer",a);(t={}).WORKSPACE="workspace",t.BRAND_KIT="brand_kit",t.AD_TEMPLATE="ad_template",t.CAMPAIGN="campaign",t.RENDER="render",t.MEMBER="member",t.SETTINGS="settings",(s={}).CREATE="create",s.READ="read",s.UPDATE="update",s.DELETE="delete",s.MANAGE="manage",s.RENDER="render",s.EXPORT="export",s.INVITE="invite";var c=((l={}).DRAFT="draft",l.IN_REVIEW="in_review",l.APPROVED="approved",l.REJECTED="rejected",l.CHANGES_REQUESTED="changes_requested",l);(d={}).AD="ad",d.CAMPAIGN="campaign",d.AD_VARIANT="ad_variant",d.CAMPAIGN_ASSET="campaign_asset",o.OWNER,o.ADMIN,o.OWNER,o.ADMIN,o.EDITOR;var u=((i={}).SUBMIT_FOR_REVIEW="submit_for_review",i.APPROVE="approve",i.REJECT="reject",i.REQUEST_CHANGES="request_changes",i.REVERT_TO_DRAFT="revert_to_draft",i);function m(e){switch(e){case"draft":return"Draft";case"in_review":return"In Review";case"approved":return"Approved";case"rejected":return"Rejected";case"changes_requested":return"Changes Requested";default:return e}}var _=e.i(96083);function v({item:e,onUpdate:a}){var t;let s,l,d,i,[v,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[C,j]=(0,n.useState)(""),[N,R]=(0,n.useState)(!1),x={userId:"admin-1",role:o.ADMIN};async function w(t,s=!1){if(s&&!C.trim())return void f(!0);try{R(!0),console.log("Performing action:",{resourceId:e.id,action:t,userId:x.userId,userRole:x.role,comment:C||void 0}),await new Promise(e=>setTimeout(e,500)),alert(`Action "${t}" completed successfully!`),j(""),f(!1),a()}catch(e){console.error("Failed to perform action:",e),alert("Failed to perform action. Please try again.")}finally{R(!1)}}let I=function(){let a=[];switch(e.approvalStatus){case c.DRAFT:a.push({action:u.SUBMIT_FOR_REVIEW,label:"Submit for Review",color:"#3b82f6"});break;case c.IN_REVIEW:a.push({action:u.APPROVE,label:"Approve",color:"#10b981"},{action:u.REQUEST_CHANGES,label:"Request Changes",color:"#f59e0b",requireComment:!0},{action:u.REJECT,label:"Reject",color:"#ef4444",requireComment:!0});break;case c.APPROVED:case c.REJECTED:case c.CHANGES_REQUESTED:a.push({action:u.REVERT_TO_DRAFT,label:"Revert to Draft",color:"#6b7280"})}return a}(),g=function(e){switch(e){case"draft":default:return"#6b7280";case"in_review":return"#f59e0b";case"approved":return"#10b981";case"rejected":return"#ef4444";case"changes_requested":return"#3b82f6"}}(e.approvalStatus),S=m(e.approvalStatus),E=(t=new Date(e.updatedAt),l=Math.floor((s=new Date().getTime()-t.getTime())/6e4),d=Math.floor(s/36e5),i=Math.floor(s/864e5),l<1?"Just now":l<60?`${l} minute${l>1?"s":""} ago`:d<24?`${d} hour${d>1?"s":""} ago`:`${i} day${i>1?"s":""} ago`);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:_.default.card,children:[e.thumbnailUrl&&(0,r.jsx)("div",{className:_.default.thumbnail,children:(0,r.jsx)("img",{src:e.thumbnailUrl,alt:e.name,className:_.default.thumbnailImage})}),(0,r.jsxs)("div",{className:_.default.content,children:[(0,r.jsxs)("div",{className:_.default.header,children:[(0,r.jsx)("h3",{className:_.default.title,children:e.name}),(0,r.jsx)("span",{className:_.default.statusBadge,style:{backgroundColor:g},children:S})]}),e.description&&(0,r.jsx)("p",{className:_.default.description,children:e.description}),(0,r.jsxs)("div",{className:_.default.metadata,children:[(0,r.jsxs)("div",{className:_.default.metadataItem,children:[(0,r.jsx)("span",{className:_.default.metadataLabel,children:"Created by:"}),(0,r.jsx)("span",{className:_.default.metadataValue,children:e.createdByName})]}),(0,r.jsxs)("div",{className:_.default.metadataItem,children:[(0,r.jsx)("span",{className:_.default.metadataLabel,children:"Updated:"}),(0,r.jsx)("span",{className:_.default.metadataValue,children:E})]}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:_.default.tags,children:e.tags.map(e=>(0,r.jsx)("span",{className:_.default.tag,children:e},e))})]}),e.comments.length>0&&(0,r.jsxs)("div",{className:_.default.commentsIndicator,children:["ðŸ’¬ ",e.comments.length," ",1===e.comments.length?"comment":"comments"]}),(0,r.jsxs)("div",{className:_.default.actions,children:[(0,r.jsx)("button",{className:_.default.viewButton,onClick:()=>alert("View details not implemented yet"),children:"View Details"}),I.length>0&&(0,r.jsx)("div",{className:_.default.actionButtons,children:I.map(({action:e,label:a,color:t,requireComment:s})=>(0,r.jsx)("button",{className:_.default.actionButton,style:{backgroundColor:t},onClick:()=>w(e,s),disabled:N,children:N?"...":a},e))})]})]})]}),p&&(0,r.jsx)("div",{className:_.default.modal,onClick:()=>f(!1),children:(0,r.jsxs)("div",{className:_.default.modalContent,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:_.default.modalHeader,children:[(0,r.jsx)("h3",{children:"Add Comment"}),(0,r.jsx)("button",{className:_.default.modalClose,onClick:()=>f(!1),children:"âœ•"})]}),(0,r.jsxs)("div",{className:_.default.modalBody,children:[(0,r.jsx)("p",{children:"Please provide a reason for this action:"}),(0,r.jsx)("textarea",{className:_.default.commentInput,value:C,onChange:e=>j(e.target.value),placeholder:"Enter your comment...",rows:4,autoFocus:!0})]}),(0,r.jsxs)("div",{className:_.default.modalFooter,children:[(0,r.jsx)("button",{className:_.default.modalCancelButton,onClick:()=>{j(""),f(!1)},children:"Cancel"}),(0,r.jsx)("button",{className:_.default.modalSubmitButton,onClick:()=>{f(!1)},disabled:!C.trim(),children:"Submit"})]})]})})]})}var h=e.i(73542);function p({currentFilter:e,onFilterChange:a}){let t=Object.values(c),s=e.status&&e.status.length>0||e.searchQuery||e.tags&&e.tags.length>0;return(0,r.jsxs)("div",{className:h.default.container,children:[(0,r.jsxs)("div",{className:h.default.section,children:[(0,r.jsx)("h3",{className:h.default.sectionTitle,children:"Filter by Status"}),(0,r.jsx)("div",{className:h.default.statusFilters,children:t.map(t=>{let s=e.status?.includes(t);return(0,r.jsx)("button",{className:`${h.default.statusButton} ${s?h.default.statusButtonActive:""}`,onClick:()=>{let s,l;a({status:(l=(s=e.status||[]).includes(t)?s.filter(e=>e!==t):[...s,t]).length>0?l:void 0})},children:m(t)},t)})})]}),(0,r.jsxs)("div",{className:h.default.section,children:[(0,r.jsx)("h3",{className:h.default.sectionTitle,children:"Search"}),(0,r.jsx)("input",{type:"text",className:h.default.searchInput,placeholder:"Search by name or description...",value:e.searchQuery||"",onChange:e=>a({searchQuery:e.target.value||void 0})})]}),s&&(0,r.jsx)("div",{className:h.default.clearSection,children:(0,r.jsx)("button",{className:h.default.clearButton,onClick:function(){a({status:void 0,searchQuery:void 0,tags:void 0})},children:"Clear All Filters"})})]})}var f=e.i(87388);function C({stats:e}){let a=e.totalDraft+e.totalInReview+e.totalApproved+e.totalRejected+e.totalChangesRequested,t=Math.round(e.avgTimeToApproval/36e5);return(0,r.jsxs)("div",{className:f.default.container,children:[(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"ðŸ“Š"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:a}),(0,r.jsx)("div",{className:f.default.statLabel,children:"Total Items"})]})]}),(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"ðŸ“"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:e.totalDraft}),(0,r.jsx)("div",{className:f.default.statLabel,children:"Draft"})]})]}),(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"ðŸ‘€"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:e.totalInReview}),(0,r.jsx)("div",{className:f.default.statLabel,children:"In Review"})]})]}),(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"âœ…"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:e.totalApproved}),(0,r.jsx)("div",{className:f.default.statLabel,children:"Approved"})]})]}),(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"â±ï¸"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:t>0?`${t}h`:"-"}),(0,r.jsx)("div",{className:f.default.statLabel,children:"Avg. Approval Time"})]})]}),(0,r.jsxs)("div",{className:f.default.stat,children:[(0,r.jsx)("div",{className:f.default.statIcon,children:"ðŸ“ˆ"}),(0,r.jsxs)("div",{className:f.default.statContent,children:[(0,r.jsx)("div",{className:f.default.statValue,children:e.approvalRate>0?`${Math.round(e.approvalRate)}%`:"-"}),(0,r.jsx)("div",{className:f.default.statLabel,children:"Approval Rate"})]})]})]})}var j=e.i(49881);function N(){let[e,a]=(0,n.useState)([]),[t,s]=(0,n.useState)(null),[l,d]=(0,n.useState)({workspaceId:"default-workspace",status:void 0}),[i,o]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null);async function _(){try{o(!0),m(null);let e=[{id:"ad-001",workspaceId:"default-workspace",resourceType:"ad",name:"Summer Sale Instagram Story",description:"Promotional ad for summer sale campaign",approvalStatus:c.IN_REVIEW,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewBy:"user-1",thumbnailUrl:"/placeholder-ad.png",tags:["instagram","sale","summer"]},{id:"ad-002",workspaceId:"default-workspace",resourceType:"ad",name:"Product Launch Facebook Ad",description:"New product launch announcement",approvalStatus:c.DRAFT,approvalHistory:[],comments:[],createdBy:"user-2",createdByName:"Jane Smith",createdByEmail:"jane@example.com",createdAt:new Date(Date.now()-18e6).toISOString(),updatedAt:new Date(Date.now()-108e5).toISOString(),thumbnailUrl:"/placeholder-ad.png",tags:["facebook","product","launch"]},{id:"ad-003",workspaceId:"default-workspace",resourceType:"ad",name:"Holiday Campaign Banner",description:"Holiday season promotional banner",approvalStatus:c.APPROVED,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-72e6).toISOString(),submittedForReviewAt:new Date(Date.now()-792e5).toISOString(),submittedForReviewBy:"user-1",approvedAt:new Date(Date.now()-72e6).toISOString(),approvedBy:"admin-1",thumbnailUrl:"/placeholder-ad.png",tags:["banner","holiday","campaign"]}],t=e;l.status&&l.status.length>0&&(t=e.filter(e=>l.status.includes(e.approvalStatus))),a(t),s({totalDraft:1,totalInReview:1,totalApproved:1,totalRejected:0,totalChangesRequested:0,avgTimeToApproval:72e5,approvalRate:100})}catch(e){console.error("Failed to load data:",e),m("Failed to load approval items. Please try again.")}finally{o(!1)}}function h(){_()}return(0,n.useEffect)(()=>{_()},[l]),i?(0,r.jsx)("div",{className:j.default.container,children:(0,r.jsx)("div",{className:j.default.loading,children:"Loading..."})}):u?(0,r.jsx)("div",{className:j.default.container,children:(0,r.jsx)("div",{className:j.default.error,children:u})}):(0,r.jsxs)("div",{className:j.default.container,children:[(0,r.jsxs)("div",{className:j.default.header,children:[(0,r.jsx)("h1",{className:j.default.title,children:"Approval Workflow"}),(0,r.jsx)("p",{className:j.default.subtitle,children:"Review and manage items in the approval workflow"})]}),t&&(0,r.jsx)(C,{stats:t}),(0,r.jsx)(p,{currentFilter:l,onFilterChange:function(e){d(a=>({...a,...e}))}}),(0,r.jsxs)("div",{className:j.default.itemsSection,children:[(0,r.jsx)("div",{className:j.default.itemsHeader,children:(0,r.jsxs)("h2",{className:j.default.itemsTitle,children:[e.length," ",1===e.length?"Item":"Items"]})}),0===e.length?(0,r.jsxs)("div",{className:j.default.emptyState,children:[(0,r.jsx)("div",{className:j.default.emptyIcon,children:"ðŸ“‹"}),(0,r.jsx)("h3",{children:"No items found"}),(0,r.jsx)("p",{children:"There are no items matching your current filters."})]}):(0,r.jsx)("div",{className:j.default.itemsGrid,children:e.map(e=>(0,r.jsx)(v,{item:e,onUpdate:h},e.id))})]})]})}e.s(["default",()=>N],39200)}]);