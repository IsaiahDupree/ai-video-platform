(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33371,e=>{e.v({checkboxLabel:"ppo-module__uASIbW__checkboxLabel",container:"ppo-module__uASIbW__container",content:"ppo-module__uASIbW__content",createView:"ppo-module__uASIbW__createView",dangerButton:"ppo-module__uASIbW__dangerButton",description:"ppo-module__uASIbW__description",emptyIcon:"ppo-module__uASIbW__emptyIcon",emptyState:"ppo-module__uASIbW__emptyState",form:"ppo-module__uASIbW__form",formActions:"ppo-module__uASIbW__formActions",formGroup:"ppo-module__uASIbW__formGroup",formSection:"ppo-module__uASIbW__formSection",header:"ppo-module__uASIbW__header",headerContent:"ppo-module__uASIbW__headerContent",input:"ppo-module__uASIbW__input",invalid:"ppo-module__uASIbW__invalid",label:"ppo-module__uASIbW__label",listHeader:"ppo-module__uASIbW__listHeader",listView:"ppo-module__uASIbW__listView",localeGrid:"ppo-module__uASIbW__localeGrid",primaryButton:"ppo-module__uASIbW__primaryButton",range:"ppo-module__uASIbW__range",rangeGroup:"ppo-module__uASIbW__rangeGroup",rangeValue:"ppo-module__uASIbW__rangeValue",removeButton:"ppo-module__uASIbW__removeButton",secondaryButton:"ppo-module__uASIbW__secondaryButton",sectionHeader:"ppo-module__uASIbW__sectionHeader",select:"ppo-module__uASIbW__select",stateACCEPTED:"ppo-module__uASIbW__stateACCEPTED",stateAPPROVED:"ppo-module__uASIbW__stateAPPROVED",stateBadge:"ppo-module__uASIbW__stateBadge",stateCOMPLETED:"ppo-module__uASIbW__stateCOMPLETED",stateIN_REVIEW:"ppo-module__uASIbW__stateIN_REVIEW",statePREPARE_FOR_SUBMISSION:"ppo-module__uASIbW__statePREPARE_FOR_SUBMISSION",stateREADY_FOR_SUBMISSION:"ppo-module__uASIbW__stateREADY_FOR_SUBMISSION",stateREJECTED:"ppo-module__uASIbW__stateREJECTED",stateRUNNING:"ppo-module__uASIbW__stateRUNNING",stateSTOPPED:"ppo-module__uASIbW__stateSTOPPED",stateWAITING_FOR_REVIEW:"ppo-module__uASIbW__stateWAITING_FOR_REVIEW",subtitle:"ppo-module__uASIbW__subtitle",tab:"ppo-module__uASIbW__tab",tabActive:"ppo-module__uASIbW__tabActive",tabs:"ppo-module__uASIbW__tabs",testCard:"ppo-module__uASIbW__testCard",testCardBody:"ppo-module__uASIbW__testCardBody",testCardFooter:"ppo-module__uASIbW__testCardFooter",testCardHeader:"ppo-module__uASIbW__testCardHeader",testGrid:"ppo-module__uASIbW__testGrid",testInfo:"ppo-module__uASIbW__testInfo",title:"ppo-module__uASIbW__title",trafficControl:"ppo-module__uASIbW__trafficControl",trafficTotal:"ppo-module__uASIbW__trafficTotal",treatmentCard:"ppo-module__uASIbW__treatmentCard",treatmentHeader:"ppo-module__uASIbW__treatmentHeader",treatmentNameInput:"ppo-module__uASIbW__treatmentNameInput",valid:"ppo-module__uASIbW__valid",warning:"ppo-module__uASIbW__warning",winner:"ppo-module__uASIbW__winner"})},387193,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(33371);let l=[{id:"app-1",name:"My Awesome App",bundleId:"com.example.awesome"},{id:"app-2",name:"Super Game Pro",bundleId:"com.example.game"},{id:"app-3",name:"Productivity Master",bundleId:"com.example.productivity"}],n=[{id:"ver-1",versionString:"2.0.0",state:"READY_FOR_DISTRIBUTION"},{id:"ver-2",versionString:"1.9.5",state:"READY_FOR_DISTRIBUTION"}],o=[{code:"en-US",name:"English (US)"},{code:"es-ES",name:"Spanish (Spain)"},{code:"fr-FR",name:"French (France)"},{code:"de-DE",name:"German (Germany)"},{code:"ja-JP",name:"Japanese (Japan)"},{code:"zh-CN",name:"Chinese (Simplified)"}];function d(){let[e,d]=(0,a.useState)("list"),[r,i]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[_,f]=(0,a.useState)(50),[h,S]=(0,a.useState)([{name:"Treatment A",trafficProportion:25,locales:["en-US"]},{name:"Treatment B",trafficProportion:25,locales:["en-US"]}]),[b,I]=(0,a.useState)([{id:"test-1",name:"Holiday Campaign Test",app:"My Awesome App",state:"APPROVED",startDate:"2026-01-15",treatments:3},{id:"test-2",name:"Screenshot Variant Test",app:"Super Game Pro",state:"COMPLETED",startDate:"2025-12-01",endDate:"2026-01-10",treatments:2,winner:"Treatment A"},{id:"test-3",name:"Icon Test A/B",app:"My Awesome App",state:"PREPARE_FOR_SUBMISSION",treatments:2},{id:"test-4",name:"Feature Highlight Test",app:"Productivity Master",state:"WAITING_FOR_REVIEW",treatments:3}]),x=async e=>{confirm("Submit this test for review? Once submitted, you cannot modify the test configuration.")&&(I(t=>t.map(t=>t.id===e?{...t,state:"WAITING_FOR_REVIEW"}:t)),alert("Test submitted for review! You will be notified when the review is complete."))},N=async e=>{confirm("Stop this test? This action cannot be undone. The test will be terminated and all data will be finalized.")&&(I(t=>t.map(t=>t.id===e?{...t,state:"STOPPED",endDate:new Date().toISOString().split("T")[0]}:t)),alert("Test stopped successfully."))},A=(e,t)=>{let a=[...h];a[e]={...a[e],...t},S(a)},j=_+h.reduce((e,t)=>e+t.trafficProportion,0),v=.01>Math.abs(j-100);return(0,t.jsxs)("div",{className:s.default.container,children:[(0,t.jsx)("header",{className:s.default.header,children:(0,t.jsxs)("div",{className:s.default.headerContent,children:[(0,t.jsx)("h1",{className:s.default.title,children:"Product Page Optimization"}),(0,t.jsx)("p",{className:s.default.subtitle,children:"A/B test your App Store product page with up to 3 treatments"})]})}),(0,t.jsxs)("div",{className:s.default.tabs,children:[(0,t.jsx)("button",{className:`${s.default.tab} ${"list"===e?s.default.tabActive:""}`,onClick:()=>d("list"),children:"PPO Tests"}),(0,t.jsx)("button",{className:`${s.default.tab} ${"create"===e?s.default.tabActive:""}`,onClick:()=>d("create"),children:"Create Test"})]}),(0,t.jsxs)("div",{className:s.default.content,children:["list"===e&&(0,t.jsxs)("div",{className:s.default.listView,children:[(0,t.jsxs)("div",{className:s.default.listHeader,children:[(0,t.jsx)("h2",{children:"Your PPO Tests"}),(0,t.jsx)("button",{className:s.default.primaryButton,onClick:()=>d("create"),children:"+ New Test"})]}),0===b.length?(0,t.jsxs)("div",{className:s.default.emptyState,children:[(0,t.jsx)("div",{className:s.default.emptyIcon,children:"ðŸ§ª"}),(0,t.jsx)("h3",{children:"No PPO tests yet"}),(0,t.jsx)("p",{children:"Create your first Product Page Optimization test to start A/B testing"}),(0,t.jsx)("button",{className:s.default.primaryButton,onClick:()=>d("create"),children:"Create Your First Test"})]}):(0,t.jsx)("div",{className:s.default.testGrid,children:b.map(e=>(0,t.jsxs)("div",{className:s.default.testCard,children:[(0,t.jsxs)("div",{className:s.default.testCardHeader,children:[(0,t.jsx)("h3",{children:e.name}),(0,t.jsx)("span",{className:`${s.default.stateBadge} ${s.default[`state${e.state}`]}`,children:e.state})]}),(0,t.jsxs)("div",{className:s.default.testCardBody,children:[(0,t.jsxs)("div",{className:s.default.testInfo,children:[(0,t.jsx)("span",{className:s.default.label,children:"App:"}),(0,t.jsx)("span",{children:e.app})]}),(0,t.jsxs)("div",{className:s.default.testInfo,children:[(0,t.jsx)("span",{className:s.default.label,children:"Treatments:"}),(0,t.jsx)("span",{children:e.treatments})]}),(0,t.jsxs)("div",{className:s.default.testInfo,children:[(0,t.jsx)("span",{className:s.default.label,children:"Start Date:"}),(0,t.jsx)("span",{children:e.startDate})]}),e.endDate&&(0,t.jsxs)("div",{className:s.default.testInfo,children:[(0,t.jsx)("span",{className:s.default.label,children:"End Date:"}),(0,t.jsx)("span",{children:e.endDate})]}),e.winner&&(0,t.jsxs)("div",{className:s.default.testInfo,children:[(0,t.jsx)("span",{className:s.default.label,children:"Winner:"}),(0,t.jsxs)("span",{className:s.default.winner,children:["ðŸ† ",e.winner]})]})]}),(0,t.jsxs)("div",{className:s.default.testCardFooter,children:[(0,t.jsx)("button",{className:s.default.secondaryButton,children:"View Details"}),("PREPARE_FOR_SUBMISSION"===e.state||"READY_FOR_SUBMISSION"===e.state)&&(0,t.jsx)("button",{className:s.default.primaryButton,onClick:()=>x(e.id),children:"Submit for Review"}),("APPROVED"===e.state||"ACCEPTED"===e.state||"WAITING_FOR_REVIEW"===e.state||"IN_REVIEW"===e.state)&&(0,t.jsx)("button",{className:s.default.dangerButton,onClick:()=>N(e.id),children:"Stop Test"}),("COMPLETED"===e.state||"STOPPED"===e.state)&&(0,t.jsx)("button",{className:s.default.secondaryButton,onClick:()=>window.location.href=`/ppo/results?testId=${e.id}`,children:"View Results"})]})]},e.id))})]}),"create"===e&&(0,t.jsxs)("div",{className:s.default.createView,children:[(0,t.jsx)("h2",{children:"Create PPO Test"}),(0,t.jsx)("p",{className:s.default.description,children:"Configure your Product Page Optimization test to compare different versions of your product page"}),(0,t.jsxs)("div",{className:s.default.form,children:[(0,t.jsxs)("div",{className:s.default.formSection,children:[(0,t.jsx)("h3",{children:"Basic Information"}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"app",children:"Select App *"}),(0,t.jsxs)("select",{id:"app",value:r,onChange:e=>i(e.target.value),className:s.default.select,children:[(0,t.jsx)("option",{value:"",children:"Choose an app..."}),l.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.bundleId,")"]},e.id))]})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"version",children:"Control Version *"}),(0,t.jsxs)("select",{id:"version",value:u,onChange:e=>c(e.target.value),className:s.default.select,disabled:!r,children:[(0,t.jsx)("option",{value:"",children:"Choose a version..."}),n.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.versionString," (",e.state,")"]},e.id))]}),(0,t.jsx)("small",{children:"This is your current product page (control group)"})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"testName",children:"Test Name *"}),(0,t.jsx)("input",{id:"testName",type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"e.g., Holiday Campaign Screenshot Test",className:s.default.input})]})]}),(0,t.jsxs)("div",{className:s.default.formSection,children:[(0,t.jsxs)("div",{className:s.default.sectionHeader,children:[(0,t.jsx)("h3",{children:"Traffic Distribution"}),(0,t.jsxs)("span",{className:`${s.default.trafficTotal} ${v?s.default.valid:s.default.invalid}`,children:["Total: ",j.toFixed(0),"%"]})]}),(0,t.jsxs)("div",{className:s.default.trafficControl,children:[(0,t.jsx)("label",{htmlFor:"controlTraffic",children:"Control (Original)"}),(0,t.jsxs)("div",{className:s.default.rangeGroup,children:[(0,t.jsx)("input",{id:"controlTraffic",type:"range",min:"10",max:"90",value:_,onChange:e=>f(Number(e.target.value)),className:s.default.range}),(0,t.jsxs)("span",{className:s.default.rangeValue,children:[_,"%"]})]})]})]}),(0,t.jsxs)("div",{className:s.default.formSection,children:[(0,t.jsxs)("div",{className:s.default.sectionHeader,children:[(0,t.jsx)("h3",{children:"Treatments"}),(0,t.jsx)("button",{onClick:()=>{if(h.length<3){let e={name:`Treatment ${String.fromCharCode(65+h.length)}`,trafficProportion:0,locales:["en-US"]};S([...h,e]);let t=Math.floor((100-_)/(h.length+1));S([...h,e].map(e=>({...e,trafficProportion:t})))}},className:s.default.secondaryButton,disabled:h.length>=3,children:"+ Add Treatment"})]}),(0,t.jsx)("p",{className:s.default.description,children:"Create 1-3 treatments to test against your control version"}),h.map((e,a)=>(0,t.jsxs)("div",{className:s.default.treatmentCard,children:[(0,t.jsxs)("div",{className:s.default.treatmentHeader,children:[(0,t.jsx)("input",{type:"text",value:e.name,onChange:e=>A(a,{name:e.target.value}),className:s.default.treatmentNameInput}),h.length>1&&(0,t.jsx)("button",{onClick:()=>(e=>{let t=h.filter((t,a)=>a!==e);if(S(t),t.length>0){let e=Math.floor((100-_)/t.length);S(t.map(t=>({...t,trafficProportion:e})))}})(a),className:s.default.removeButton,title:"Remove treatment",children:"Ã—"})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{children:"Traffic Share"}),(0,t.jsxs)("div",{className:s.default.rangeGroup,children:[(0,t.jsx)("input",{type:"range",min:"0",max:100-_,value:e.trafficProportion,onChange:e=>A(a,{trafficProportion:Number(e.target.value)}),className:s.default.range}),(0,t.jsxs)("span",{className:s.default.rangeValue,children:[e.trafficProportion,"%"]})]})]}),(0,t.jsxs)("div",{className:s.default.formGroup,children:[(0,t.jsx)("label",{children:"Locales"}),(0,t.jsx)("div",{className:s.default.localeGrid,children:o.map(l=>(0,t.jsxs)("label",{className:s.default.checkboxLabel,children:[(0,t.jsx)("input",{type:"checkbox",checked:e.locales.includes(l.code),onChange:()=>{var e;let t;return e=l.code,t=h[a],void A(a,{locales:t.locales.includes(e)?t.locales.filter(t=>t!==e):[...t.locales,e]})}}),(0,t.jsx)("span",{children:l.name})]},l.code))}),(0,t.jsxs)("small",{children:[e.locales.length," locale(s) selected"]})]})]},a)),!v&&(0,t.jsxs)("div",{className:s.default.warning,children:["âš ï¸ Traffic must add up to 100%. Current total: ",j.toFixed(0),"%"]})]}),(0,t.jsxs)("div",{className:s.default.formActions,children:[(0,t.jsx)("button",{onClick:()=>d("list"),className:s.default.secondaryButton,children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{r&&u&&m&&v?(I([{id:`test-${Date.now()}`,name:m,app:l.find(e=>e.id===r)?.name||"",state:"PREPARE_FOR_SUBMISSION",startDate:new Date().toISOString().split("T")[0],treatments:h.length},...b]),alert("PPO test created successfully!"),d("list"),i(""),c(""),p(""),f(50),S([{name:"Treatment A",trafficProportion:25,locales:["en-US"]},{name:"Treatment B",trafficProportion:25,locales:["en-US"]}])):alert("Please fill in all required fields and ensure traffic adds up to 100%")},className:s.default.primaryButton,disabled:!r||!u||!m||!v,children:"Create PPO Test"})]})]})]})]})]})}e.s(["default",()=>d])}]);