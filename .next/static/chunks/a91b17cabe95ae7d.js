(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,412980,445733,e=>{"use strict";var a,t,s,l,d,r,i=((a={}).OWNER="owner",a.ADMIN="admin",a.EDITOR="editor",a.VIEWER="viewer",a);(t={}).WORKSPACE="workspace",t.BRAND_KIT="brand_kit",t.AD_TEMPLATE="ad_template",t.CAMPAIGN="campaign",t.RENDER="render",t.MEMBER="member",t.SETTINGS="settings",(s={}).CREATE="create",s.READ="read",s.UPDATE="update",s.DELETE="delete",s.MANAGE="manage",s.RENDER="render",s.EXPORT="export",s.INVITE="invite",e.s(["WorkspaceRole",()=>i],445733);var o=((l={}).DRAFT="draft",l.IN_REVIEW="in_review",l.APPROVED="approved",l.REJECTED="rejected",l.CHANGES_REQUESTED="changes_requested",l);(d={}).AD="ad",d.CAMPAIGN="campaign",d.AD_VARIANT="ad_variant",d.CAMPAIGN_ASSET="campaign_asset",i.OWNER,i.ADMIN,i.OWNER,i.ADMIN,i.EDITOR;var n=((r={}).SUBMIT_FOR_REVIEW="submit_for_review",r.APPROVE="approve",r.REJECT="reject",r.REQUEST_CHANGES="request_changes",r.REVERT_TO_DRAFT="revert_to_draft",r);function c(e){switch(e){case"draft":default:return"#6b7280";case"in_review":return"#f59e0b";case"approved":return"#10b981";case"rejected":return"#ef4444";case"changes_requested":return"#3b82f6"}}function u(e){switch(e){case"draft":return"Draft";case"in_review":return"In Review";case"approved":return"Approved";case"rejected":return"Rejected";case"changes_requested":return"Changes Requested";default:return e}}e.s(["ApprovalAction",()=>n,"ApprovalStatus",()=>o,"getStatusColor",()=>c,"getStatusDisplayName",()=>u],412980)},896083,e=>{e.v({actionButton:"ReviewItemCard-module__LdjCCW__actionButton",actionButtons:"ReviewItemCard-module__LdjCCW__actionButtons",actions:"ReviewItemCard-module__LdjCCW__actions",card:"ReviewItemCard-module__LdjCCW__card",commentInput:"ReviewItemCard-module__LdjCCW__commentInput",commentsIndicator:"ReviewItemCard-module__LdjCCW__commentsIndicator",content:"ReviewItemCard-module__LdjCCW__content",description:"ReviewItemCard-module__LdjCCW__description",header:"ReviewItemCard-module__LdjCCW__header",metadata:"ReviewItemCard-module__LdjCCW__metadata",metadataItem:"ReviewItemCard-module__LdjCCW__metadataItem",metadataLabel:"ReviewItemCard-module__LdjCCW__metadataLabel",metadataValue:"ReviewItemCard-module__LdjCCW__metadataValue",modal:"ReviewItemCard-module__LdjCCW__modal",modalBody:"ReviewItemCard-module__LdjCCW__modalBody",modalCancelButton:"ReviewItemCard-module__LdjCCW__modalCancelButton",modalClose:"ReviewItemCard-module__LdjCCW__modalClose",modalContent:"ReviewItemCard-module__LdjCCW__modalContent",modalFooter:"ReviewItemCard-module__LdjCCW__modalFooter",modalHeader:"ReviewItemCard-module__LdjCCW__modalHeader",modalSubmitButton:"ReviewItemCard-module__LdjCCW__modalSubmitButton",statusBadge:"ReviewItemCard-module__LdjCCW__statusBadge",tag:"ReviewItemCard-module__LdjCCW__tag",tags:"ReviewItemCard-module__LdjCCW__tags",thumbnail:"ReviewItemCard-module__LdjCCW__thumbnail",thumbnailImage:"ReviewItemCard-module__LdjCCW__thumbnailImage",title:"ReviewItemCard-module__LdjCCW__title",viewButton:"ReviewItemCard-module__LdjCCW__viewButton"})},673542,e=>{e.v({clearButton:"ReviewFilters-module__Z0fMNa__clearButton",clearSection:"ReviewFilters-module__Z0fMNa__clearSection",container:"ReviewFilters-module__Z0fMNa__container",searchInput:"ReviewFilters-module__Z0fMNa__searchInput",section:"ReviewFilters-module__Z0fMNa__section",sectionTitle:"ReviewFilters-module__Z0fMNa__sectionTitle",statusButton:"ReviewFilters-module__Z0fMNa__statusButton",statusButtonActive:"ReviewFilters-module__Z0fMNa__statusButtonActive",statusFilters:"ReviewFilters-module__Z0fMNa__statusFilters"})},187388,e=>{e.v({container:"ApprovalStats-module__ikRfqG__container",stat:"ApprovalStats-module__ikRfqG__stat",statContent:"ApprovalStats-module__ikRfqG__statContent",statIcon:"ApprovalStats-module__ikRfqG__statIcon",statLabel:"ApprovalStats-module__ikRfqG__statLabel",statValue:"ApprovalStats-module__ikRfqG__statValue"})},349881,e=>{e.v({container:"review-module__W8-LxG__container",emptyIcon:"review-module__W8-LxG__emptyIcon",emptyState:"review-module__W8-LxG__emptyState",error:"review-module__W8-LxG__error",header:"review-module__W8-LxG__header",itemsGrid:"review-module__W8-LxG__itemsGrid",itemsHeader:"review-module__W8-LxG__itemsHeader",itemsSection:"review-module__W8-LxG__itemsSection",itemsTitle:"review-module__W8-LxG__itemsTitle",loading:"review-module__W8-LxG__loading",subtitle:"review-module__W8-LxG__subtitle",title:"review-module__W8-LxG__title"})},839200,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(412980),l=e.i(445733),d=e.i(896083);function r({item:e,onUpdate:r}){var i;let o,n,c,u,[m,_]=(0,t.useState)(!1),[v,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[C,j]=(0,t.useState)(!1),N={userId:"admin-1",role:l.WorkspaceRole.ADMIN};async function R(a,t=!1){if(t&&!h.trim())return void p(!0);try{j(!0),console.log("Performing action:",{resourceId:e.id,action:a,userId:N.userId,userRole:N.role,comment:h||void 0}),await new Promise(e=>setTimeout(e,500)),alert(`Action "${a}" completed successfully!`),f(""),p(!1),r()}catch(e){console.error("Failed to perform action:",e),alert("Failed to perform action. Please try again.")}finally{j(!1)}}let x=function(){let a=[];switch(e.approvalStatus){case s.ApprovalStatus.DRAFT:a.push({action:s.ApprovalAction.SUBMIT_FOR_REVIEW,label:"Submit for Review",color:"#3b82f6"});break;case s.ApprovalStatus.IN_REVIEW:a.push({action:s.ApprovalAction.APPROVE,label:"Approve",color:"#10b981"},{action:s.ApprovalAction.REQUEST_CHANGES,label:"Request Changes",color:"#f59e0b",requireComment:!0},{action:s.ApprovalAction.REJECT,label:"Reject",color:"#ef4444",requireComment:!0});break;case s.ApprovalStatus.APPROVED:case s.ApprovalStatus.REJECTED:case s.ApprovalStatus.CHANGES_REQUESTED:a.push({action:s.ApprovalAction.REVERT_TO_DRAFT,label:"Revert to Draft",color:"#6b7280"})}return a}(),w=(0,s.getStatusColor)(e.approvalStatus),I=(0,s.getStatusDisplayName)(e.approvalStatus),g=(i=new Date(e.updatedAt),n=Math.floor((o=new Date().getTime()-i.getTime())/6e4),c=Math.floor(o/36e5),u=Math.floor(o/864e5),n<1?"Just now":n<60?`${n} minute${n>1?"s":""} ago`:c<24?`${c} hour${c>1?"s":""} ago`:`${u} day${u>1?"s":""} ago`);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:d.default.card,children:[e.thumbnailUrl&&(0,a.jsx)("div",{className:d.default.thumbnail,children:(0,a.jsx)("img",{src:e.thumbnailUrl,alt:e.name,className:d.default.thumbnailImage})}),(0,a.jsxs)("div",{className:d.default.content,children:[(0,a.jsxs)("div",{className:d.default.header,children:[(0,a.jsx)("h3",{className:d.default.title,children:e.name}),(0,a.jsx)("span",{className:d.default.statusBadge,style:{backgroundColor:w},children:I})]}),e.description&&(0,a.jsx)("p",{className:d.default.description,children:e.description}),(0,a.jsxs)("div",{className:d.default.metadata,children:[(0,a.jsxs)("div",{className:d.default.metadataItem,children:[(0,a.jsx)("span",{className:d.default.metadataLabel,children:"Created by:"}),(0,a.jsx)("span",{className:d.default.metadataValue,children:e.createdByName})]}),(0,a.jsxs)("div",{className:d.default.metadataItem,children:[(0,a.jsx)("span",{className:d.default.metadataLabel,children:"Updated:"}),(0,a.jsx)("span",{className:d.default.metadataValue,children:g})]}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:d.default.tags,children:e.tags.map(e=>(0,a.jsx)("span",{className:d.default.tag,children:e},e))})]}),e.comments.length>0&&(0,a.jsxs)("div",{className:d.default.commentsIndicator,children:["ðŸ’¬ ",e.comments.length," ",1===e.comments.length?"comment":"comments"]}),(0,a.jsxs)("div",{className:d.default.actions,children:[(0,a.jsx)("button",{className:d.default.viewButton,onClick:()=>alert("View details not implemented yet"),children:"View Details"}),x.length>0&&(0,a.jsx)("div",{className:d.default.actionButtons,children:x.map(({action:e,label:t,color:s,requireComment:l})=>(0,a.jsx)("button",{className:d.default.actionButton,style:{backgroundColor:s},onClick:()=>R(e,l),disabled:C,children:C?"...":t},e))})]})]})]}),v&&(0,a.jsx)("div",{className:d.default.modal,onClick:()=>p(!1),children:(0,a.jsxs)("div",{className:d.default.modalContent,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:d.default.modalHeader,children:[(0,a.jsx)("h3",{children:"Add Comment"}),(0,a.jsx)("button",{className:d.default.modalClose,onClick:()=>p(!1),children:"âœ•"})]}),(0,a.jsxs)("div",{className:d.default.modalBody,children:[(0,a.jsx)("p",{children:"Please provide a reason for this action:"}),(0,a.jsx)("textarea",{className:d.default.commentInput,value:h,onChange:e=>f(e.target.value),placeholder:"Enter your comment...",rows:4,autoFocus:!0})]}),(0,a.jsxs)("div",{className:d.default.modalFooter,children:[(0,a.jsx)("button",{className:d.default.modalCancelButton,onClick:()=>{f(""),p(!1)},children:"Cancel"}),(0,a.jsx)("button",{className:d.default.modalSubmitButton,onClick:()=>{p(!1)},disabled:!h.trim(),children:"Submit"})]})]})})]})}var i=e.i(673542);function o({currentFilter:e,onFilterChange:t}){let l=Object.values(s.ApprovalStatus),d=e.status&&e.status.length>0||e.searchQuery||e.tags&&e.tags.length>0;return(0,a.jsxs)("div",{className:i.default.container,children:[(0,a.jsxs)("div",{className:i.default.section,children:[(0,a.jsx)("h3",{className:i.default.sectionTitle,children:"Filter by Status"}),(0,a.jsx)("div",{className:i.default.statusFilters,children:l.map(l=>{let d=e.status?.includes(l);return(0,a.jsx)("button",{className:`${i.default.statusButton} ${d?i.default.statusButtonActive:""}`,onClick:()=>{let a,s;t({status:(s=(a=e.status||[]).includes(l)?a.filter(e=>e!==l):[...a,l]).length>0?s:void 0})},children:(0,s.getStatusDisplayName)(l)},l)})})]}),(0,a.jsxs)("div",{className:i.default.section,children:[(0,a.jsx)("h3",{className:i.default.sectionTitle,children:"Search"}),(0,a.jsx)("input",{type:"text",className:i.default.searchInput,placeholder:"Search by name or description...",value:e.searchQuery||"",onChange:e=>t({searchQuery:e.target.value||void 0})})]}),d&&(0,a.jsx)("div",{className:i.default.clearSection,children:(0,a.jsx)("button",{className:i.default.clearButton,onClick:function(){t({status:void 0,searchQuery:void 0,tags:void 0})},children:"Clear All Filters"})})]})}var n=e.i(187388);function c({stats:e}){let t=e.totalDraft+e.totalInReview+e.totalApproved+e.totalRejected+e.totalChangesRequested,s=Math.round(e.avgTimeToApproval/36e5);return(0,a.jsxs)("div",{className:n.default.container,children:[(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"ðŸ“Š"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:t}),(0,a.jsx)("div",{className:n.default.statLabel,children:"Total Items"})]})]}),(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"ðŸ“"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:e.totalDraft}),(0,a.jsx)("div",{className:n.default.statLabel,children:"Draft"})]})]}),(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"ðŸ‘€"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:e.totalInReview}),(0,a.jsx)("div",{className:n.default.statLabel,children:"In Review"})]})]}),(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"âœ…"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:e.totalApproved}),(0,a.jsx)("div",{className:n.default.statLabel,children:"Approved"})]})]}),(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"â±ï¸"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:s>0?`${s}h`:"-"}),(0,a.jsx)("div",{className:n.default.statLabel,children:"Avg. Approval Time"})]})]}),(0,a.jsxs)("div",{className:n.default.stat,children:[(0,a.jsx)("div",{className:n.default.statIcon,children:"ðŸ“ˆ"}),(0,a.jsxs)("div",{className:n.default.statContent,children:[(0,a.jsx)("div",{className:n.default.statValue,children:e.approvalRate>0?`${Math.round(e.approvalRate)}%`:"-"}),(0,a.jsx)("div",{className:n.default.statLabel,children:"Approval Rate"})]})]})]})}var u=e.i(349881);function m(){let[e,l]=(0,t.useState)([]),[d,i]=(0,t.useState)(null),[n,m]=(0,t.useState)({workspaceId:"default-workspace",status:void 0}),[_,v]=(0,t.useState)(!0),[p,h]=(0,t.useState)(null);async function f(){try{v(!0),h(null);let e=[{id:"ad-001",workspaceId:"default-workspace",resourceType:"ad",name:"Summer Sale Instagram Story",description:"Promotional ad for summer sale campaign",approvalStatus:s.ApprovalStatus.IN_REVIEW,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewBy:"user-1",thumbnailUrl:"/placeholder-ad.png",tags:["instagram","sale","summer"]},{id:"ad-002",workspaceId:"default-workspace",resourceType:"ad",name:"Product Launch Facebook Ad",description:"New product launch announcement",approvalStatus:s.ApprovalStatus.DRAFT,approvalHistory:[],comments:[],createdBy:"user-2",createdByName:"Jane Smith",createdByEmail:"jane@example.com",createdAt:new Date(Date.now()-18e6).toISOString(),updatedAt:new Date(Date.now()-108e5).toISOString(),thumbnailUrl:"/placeholder-ad.png",tags:["facebook","product","launch"]},{id:"ad-003",workspaceId:"default-workspace",resourceType:"ad",name:"Holiday Campaign Banner",description:"Holiday season promotional banner",approvalStatus:s.ApprovalStatus.APPROVED,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-72e6).toISOString(),submittedForReviewAt:new Date(Date.now()-792e5).toISOString(),submittedForReviewBy:"user-1",approvedAt:new Date(Date.now()-72e6).toISOString(),approvedBy:"admin-1",thumbnailUrl:"/placeholder-ad.png",tags:["banner","holiday","campaign"]}],a=e;n.status&&n.status.length>0&&(a=e.filter(e=>n.status.includes(e.approvalStatus))),l(a),i({totalDraft:1,totalInReview:1,totalApproved:1,totalRejected:0,totalChangesRequested:0,avgTimeToApproval:72e5,approvalRate:100})}catch(e){console.error("Failed to load data:",e),h("Failed to load approval items. Please try again.")}finally{v(!1)}}function C(){f()}return(0,t.useEffect)(()=>{f()},[n]),_?(0,a.jsx)("div",{className:u.default.container,children:(0,a.jsx)("div",{className:u.default.loading,children:"Loading..."})}):p?(0,a.jsx)("div",{className:u.default.container,children:(0,a.jsx)("div",{className:u.default.error,children:p})}):(0,a.jsxs)("div",{className:u.default.container,children:[(0,a.jsxs)("div",{className:u.default.header,children:[(0,a.jsx)("h1",{className:u.default.title,children:"Approval Workflow"}),(0,a.jsx)("p",{className:u.default.subtitle,children:"Review and manage items in the approval workflow"})]}),d&&(0,a.jsx)(c,{stats:d}),(0,a.jsx)(o,{currentFilter:n,onFilterChange:function(e){m(a=>({...a,...e}))}}),(0,a.jsxs)("div",{className:u.default.itemsSection,children:[(0,a.jsx)("div",{className:u.default.itemsHeader,children:(0,a.jsxs)("h2",{className:u.default.itemsTitle,children:[e.length," ",1===e.length?"Item":"Items"]})}),0===e.length?(0,a.jsxs)("div",{className:u.default.emptyState,children:[(0,a.jsx)("div",{className:u.default.emptyIcon,children:"ðŸ“‹"}),(0,a.jsx)("h3",{children:"No items found"}),(0,a.jsx)("p",{children:"There are no items matching your current filters."})]}):(0,a.jsx)("div",{className:u.default.itemsGrid,children:e.map(e=>(0,a.jsx)(r,{item:e,onUpdate:C},e.id))})]})]})}e.s(["default",()=>m],839200)}]);