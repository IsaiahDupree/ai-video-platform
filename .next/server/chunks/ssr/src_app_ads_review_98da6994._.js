module.exports=[10697,a=>{a.v({actionButton:"ReviewItemCard-module__LdjCCW__actionButton",actionButtons:"ReviewItemCard-module__LdjCCW__actionButtons",actions:"ReviewItemCard-module__LdjCCW__actions",card:"ReviewItemCard-module__LdjCCW__card",commentInput:"ReviewItemCard-module__LdjCCW__commentInput",commentsIndicator:"ReviewItemCard-module__LdjCCW__commentsIndicator",content:"ReviewItemCard-module__LdjCCW__content",description:"ReviewItemCard-module__LdjCCW__description",header:"ReviewItemCard-module__LdjCCW__header",metadata:"ReviewItemCard-module__LdjCCW__metadata",metadataItem:"ReviewItemCard-module__LdjCCW__metadataItem",metadataLabel:"ReviewItemCard-module__LdjCCW__metadataLabel",metadataValue:"ReviewItemCard-module__LdjCCW__metadataValue",modal:"ReviewItemCard-module__LdjCCW__modal",modalBody:"ReviewItemCard-module__LdjCCW__modalBody",modalCancelButton:"ReviewItemCard-module__LdjCCW__modalCancelButton",modalClose:"ReviewItemCard-module__LdjCCW__modalClose",modalContent:"ReviewItemCard-module__LdjCCW__modalContent",modalFooter:"ReviewItemCard-module__LdjCCW__modalFooter",modalHeader:"ReviewItemCard-module__LdjCCW__modalHeader",modalSubmitButton:"ReviewItemCard-module__LdjCCW__modalSubmitButton",statusBadge:"ReviewItemCard-module__LdjCCW__statusBadge",tag:"ReviewItemCard-module__LdjCCW__tag",tags:"ReviewItemCard-module__LdjCCW__tags",thumbnail:"ReviewItemCard-module__LdjCCW__thumbnail",thumbnailImage:"ReviewItemCard-module__LdjCCW__thumbnailImage",title:"ReviewItemCard-module__LdjCCW__title",viewButton:"ReviewItemCard-module__LdjCCW__viewButton"})},34753,a=>{a.v({clearButton:"ReviewFilters-module__Z0fMNa__clearButton",clearSection:"ReviewFilters-module__Z0fMNa__clearSection",container:"ReviewFilters-module__Z0fMNa__container",searchInput:"ReviewFilters-module__Z0fMNa__searchInput",section:"ReviewFilters-module__Z0fMNa__section",sectionTitle:"ReviewFilters-module__Z0fMNa__sectionTitle",statusButton:"ReviewFilters-module__Z0fMNa__statusButton",statusButtonActive:"ReviewFilters-module__Z0fMNa__statusButtonActive",statusFilters:"ReviewFilters-module__Z0fMNa__statusFilters"})},83351,a=>{a.v({container:"ApprovalStats-module__ikRfqG__container",stat:"ApprovalStats-module__ikRfqG__stat",statContent:"ApprovalStats-module__ikRfqG__statContent",statIcon:"ApprovalStats-module__ikRfqG__statIcon",statLabel:"ApprovalStats-module__ikRfqG__statLabel",statValue:"ApprovalStats-module__ikRfqG__statValue"})},51767,a=>{a.v({container:"review-module__W8-LxG__container",emptyIcon:"review-module__W8-LxG__emptyIcon",emptyState:"review-module__W8-LxG__emptyState",error:"review-module__W8-LxG__error",header:"review-module__W8-LxG__header",itemsGrid:"review-module__W8-LxG__itemsGrid",itemsHeader:"review-module__W8-LxG__itemsHeader",itemsSection:"review-module__W8-LxG__itemsSection",itemsTitle:"review-module__W8-LxG__itemsTitle",loading:"review-module__W8-LxG__loading",subtitle:"review-module__W8-LxG__subtitle",title:"review-module__W8-LxG__title"})},81688,a=>{"use strict";var b,c,d,e,f,g,h=a.i(87924),i=a.i(72131),j=((b={}).OWNER="owner",b.ADMIN="admin",b.EDITOR="editor",b.VIEWER="viewer",b);(c={}).WORKSPACE="workspace",c.BRAND_KIT="brand_kit",c.AD_TEMPLATE="ad_template",c.CAMPAIGN="campaign",c.RENDER="render",c.MEMBER="member",c.SETTINGS="settings",(d={}).CREATE="create",d.READ="read",d.UPDATE="update",d.DELETE="delete",d.MANAGE="manage",d.RENDER="render",d.EXPORT="export",d.INVITE="invite";var k=((e={}).DRAFT="draft",e.IN_REVIEW="in_review",e.APPROVED="approved",e.REJECTED="rejected",e.CHANGES_REQUESTED="changes_requested",e);(f={}).AD="ad",f.CAMPAIGN="campaign",f.AD_VARIANT="ad_variant",f.CAMPAIGN_ASSET="campaign_asset",j.OWNER,j.ADMIN,j.OWNER,j.ADMIN,j.EDITOR;var l=((g={}).SUBMIT_FOR_REVIEW="submit_for_review",g.APPROVE="approve",g.REJECT="reject",g.REQUEST_CHANGES="request_changes",g.REVERT_TO_DRAFT="revert_to_draft",g);function m(a){switch(a){case"draft":return"Draft";case"in_review":return"In Review";case"approved":return"Approved";case"rejected":return"Rejected";case"changes_requested":return"Changes Requested";default:return a}}var n=a.i(10697);function o({item:a,onUpdate:b}){var c;let d,e,f,g,[o,p]=(0,i.useState)(!1),[q,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)(""),[u,v]=(0,i.useState)(!1),w={userId:"admin-1",role:j.ADMIN};async function x(c,d=!1){if(d&&!s.trim())return void r(!0);try{v(!0),console.log("Performing action:",{resourceId:a.id,action:c,userId:w.userId,userRole:w.role,comment:s||void 0}),await new Promise(a=>setTimeout(a,500)),alert(`Action "${c}" completed successfully!`),t(""),r(!1),b()}catch(a){console.error("Failed to perform action:",a),alert("Failed to perform action. Please try again.")}finally{v(!1)}}let y=function(){let b=[];switch(a.approvalStatus){case k.DRAFT:b.push({action:l.SUBMIT_FOR_REVIEW,label:"Submit for Review",color:"#3b82f6"});break;case k.IN_REVIEW:b.push({action:l.APPROVE,label:"Approve",color:"#10b981"},{action:l.REQUEST_CHANGES,label:"Request Changes",color:"#f59e0b",requireComment:!0},{action:l.REJECT,label:"Reject",color:"#ef4444",requireComment:!0});break;case k.APPROVED:case k.REJECTED:case k.CHANGES_REQUESTED:b.push({action:l.REVERT_TO_DRAFT,label:"Revert to Draft",color:"#6b7280"})}return b}(),z=function(a){switch(a){case"draft":default:return"#6b7280";case"in_review":return"#f59e0b";case"approved":return"#10b981";case"rejected":return"#ef4444";case"changes_requested":return"#3b82f6"}}(a.approvalStatus),A=m(a.approvalStatus),B=(c=new Date(a.updatedAt),e=Math.floor((d=new Date().getTime()-c.getTime())/6e4),f=Math.floor(d/36e5),g=Math.floor(d/864e5),e<1?"Just now":e<60?`${e} minute${e>1?"s":""} ago`:f<24?`${f} hour${f>1?"s":""} ago`:`${g} day${g>1?"s":""} ago`);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:n.default.card,children:[a.thumbnailUrl&&(0,h.jsx)("div",{className:n.default.thumbnail,children:(0,h.jsx)("img",{src:a.thumbnailUrl,alt:a.name,className:n.default.thumbnailImage})}),(0,h.jsxs)("div",{className:n.default.content,children:[(0,h.jsxs)("div",{className:n.default.header,children:[(0,h.jsx)("h3",{className:n.default.title,children:a.name}),(0,h.jsx)("span",{className:n.default.statusBadge,style:{backgroundColor:z},children:A})]}),a.description&&(0,h.jsx)("p",{className:n.default.description,children:a.description}),(0,h.jsxs)("div",{className:n.default.metadata,children:[(0,h.jsxs)("div",{className:n.default.metadataItem,children:[(0,h.jsx)("span",{className:n.default.metadataLabel,children:"Created by:"}),(0,h.jsx)("span",{className:n.default.metadataValue,children:a.createdByName})]}),(0,h.jsxs)("div",{className:n.default.metadataItem,children:[(0,h.jsx)("span",{className:n.default.metadataLabel,children:"Updated:"}),(0,h.jsx)("span",{className:n.default.metadataValue,children:B})]}),a.tags&&a.tags.length>0&&(0,h.jsx)("div",{className:n.default.tags,children:a.tags.map(a=>(0,h.jsx)("span",{className:n.default.tag,children:a},a))})]}),a.comments.length>0&&(0,h.jsxs)("div",{className:n.default.commentsIndicator,children:["ðŸ’¬ ",a.comments.length," ",1===a.comments.length?"comment":"comments"]}),(0,h.jsxs)("div",{className:n.default.actions,children:[(0,h.jsx)("button",{className:n.default.viewButton,onClick:()=>alert("View details not implemented yet"),children:"View Details"}),y.length>0&&(0,h.jsx)("div",{className:n.default.actionButtons,children:y.map(({action:a,label:b,color:c,requireComment:d})=>(0,h.jsx)("button",{className:n.default.actionButton,style:{backgroundColor:c},onClick:()=>x(a,d),disabled:u,children:u?"...":b},a))})]})]})]}),q&&(0,h.jsx)("div",{className:n.default.modal,onClick:()=>r(!1),children:(0,h.jsxs)("div",{className:n.default.modalContent,onClick:a=>a.stopPropagation(),children:[(0,h.jsxs)("div",{className:n.default.modalHeader,children:[(0,h.jsx)("h3",{children:"Add Comment"}),(0,h.jsx)("button",{className:n.default.modalClose,onClick:()=>r(!1),children:"âœ•"})]}),(0,h.jsxs)("div",{className:n.default.modalBody,children:[(0,h.jsx)("p",{children:"Please provide a reason for this action:"}),(0,h.jsx)("textarea",{className:n.default.commentInput,value:s,onChange:a=>t(a.target.value),placeholder:"Enter your comment...",rows:4,autoFocus:!0})]}),(0,h.jsxs)("div",{className:n.default.modalFooter,children:[(0,h.jsx)("button",{className:n.default.modalCancelButton,onClick:()=>{t(""),r(!1)},children:"Cancel"}),(0,h.jsx)("button",{className:n.default.modalSubmitButton,onClick:()=>{r(!1)},disabled:!s.trim(),children:"Submit"})]})]})})]})}var p=a.i(34753);function q({currentFilter:a,onFilterChange:b}){let c=Object.values(k),d=a.status&&a.status.length>0||a.searchQuery||a.tags&&a.tags.length>0;return(0,h.jsxs)("div",{className:p.default.container,children:[(0,h.jsxs)("div",{className:p.default.section,children:[(0,h.jsx)("h3",{className:p.default.sectionTitle,children:"Filter by Status"}),(0,h.jsx)("div",{className:p.default.statusFilters,children:c.map(c=>{let d=a.status?.includes(c);return(0,h.jsx)("button",{className:`${p.default.statusButton} ${d?p.default.statusButtonActive:""}`,onClick:()=>{let d,e;b({status:(e=(d=a.status||[]).includes(c)?d.filter(a=>a!==c):[...d,c]).length>0?e:void 0})},children:m(c)},c)})})]}),(0,h.jsxs)("div",{className:p.default.section,children:[(0,h.jsx)("h3",{className:p.default.sectionTitle,children:"Search"}),(0,h.jsx)("input",{type:"text",className:p.default.searchInput,placeholder:"Search by name or description...",value:a.searchQuery||"",onChange:a=>b({searchQuery:a.target.value||void 0})})]}),d&&(0,h.jsx)("div",{className:p.default.clearSection,children:(0,h.jsx)("button",{className:p.default.clearButton,onClick:function(){b({status:void 0,searchQuery:void 0,tags:void 0})},children:"Clear All Filters"})})]})}var r=a.i(83351);function s({stats:a}){let b=a.totalDraft+a.totalInReview+a.totalApproved+a.totalRejected+a.totalChangesRequested,c=Math.round(a.avgTimeToApproval/36e5);return(0,h.jsxs)("div",{className:r.default.container,children:[(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"ðŸ“Š"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:b}),(0,h.jsx)("div",{className:r.default.statLabel,children:"Total Items"})]})]}),(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"ðŸ“"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:a.totalDraft}),(0,h.jsx)("div",{className:r.default.statLabel,children:"Draft"})]})]}),(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"ðŸ‘€"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:a.totalInReview}),(0,h.jsx)("div",{className:r.default.statLabel,children:"In Review"})]})]}),(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"âœ…"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:a.totalApproved}),(0,h.jsx)("div",{className:r.default.statLabel,children:"Approved"})]})]}),(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"â±ï¸"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:c>0?`${c}h`:"-"}),(0,h.jsx)("div",{className:r.default.statLabel,children:"Avg. Approval Time"})]})]}),(0,h.jsxs)("div",{className:r.default.stat,children:[(0,h.jsx)("div",{className:r.default.statIcon,children:"ðŸ“ˆ"}),(0,h.jsxs)("div",{className:r.default.statContent,children:[(0,h.jsx)("div",{className:r.default.statValue,children:a.approvalRate>0?`${Math.round(a.approvalRate)}%`:"-"}),(0,h.jsx)("div",{className:r.default.statLabel,children:"Approval Rate"})]})]})]})}var t=a.i(51767);function u(){let[a,b]=(0,i.useState)([]),[c,d]=(0,i.useState)(null),[e,f]=(0,i.useState)({workspaceId:"default-workspace",status:void 0}),[g,j]=(0,i.useState)(!0),[l,m]=(0,i.useState)(null);async function n(){try{j(!0),m(null);let a=[{id:"ad-001",workspaceId:"default-workspace",resourceType:"ad",name:"Summer Sale Instagram Story",description:"Promotional ad for summer sale campaign",approvalStatus:k.IN_REVIEW,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewAt:new Date(Date.now()-36e5).toISOString(),submittedForReviewBy:"user-1",thumbnailUrl:"/placeholder-ad.png",tags:["instagram","sale","summer"]},{id:"ad-002",workspaceId:"default-workspace",resourceType:"ad",name:"Product Launch Facebook Ad",description:"New product launch announcement",approvalStatus:k.DRAFT,approvalHistory:[],comments:[],createdBy:"user-2",createdByName:"Jane Smith",createdByEmail:"jane@example.com",createdAt:new Date(Date.now()-18e6).toISOString(),updatedAt:new Date(Date.now()-108e5).toISOString(),thumbnailUrl:"/placeholder-ad.png",tags:["facebook","product","launch"]},{id:"ad-003",workspaceId:"default-workspace",resourceType:"ad",name:"Holiday Campaign Banner",description:"Holiday season promotional banner",approvalStatus:k.APPROVED,approvalHistory:[],comments:[],createdBy:"user-1",createdByName:"John Doe",createdByEmail:"john@example.com",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-72e6).toISOString(),submittedForReviewAt:new Date(Date.now()-792e5).toISOString(),submittedForReviewBy:"user-1",approvedAt:new Date(Date.now()-72e6).toISOString(),approvedBy:"admin-1",thumbnailUrl:"/placeholder-ad.png",tags:["banner","holiday","campaign"]}],c=a;e.status&&e.status.length>0&&(c=a.filter(a=>e.status.includes(a.approvalStatus))),b(c),d({totalDraft:1,totalInReview:1,totalApproved:1,totalRejected:0,totalChangesRequested:0,avgTimeToApproval:72e5,approvalRate:100})}catch(a){console.error("Failed to load data:",a),m("Failed to load approval items. Please try again.")}finally{j(!1)}}function p(){n()}return(0,i.useEffect)(()=>{n()},[e]),g?(0,h.jsx)("div",{className:t.default.container,children:(0,h.jsx)("div",{className:t.default.loading,children:"Loading..."})}):l?(0,h.jsx)("div",{className:t.default.container,children:(0,h.jsx)("div",{className:t.default.error,children:l})}):(0,h.jsxs)("div",{className:t.default.container,children:[(0,h.jsxs)("div",{className:t.default.header,children:[(0,h.jsx)("h1",{className:t.default.title,children:"Approval Workflow"}),(0,h.jsx)("p",{className:t.default.subtitle,children:"Review and manage items in the approval workflow"})]}),c&&(0,h.jsx)(s,{stats:c}),(0,h.jsx)(q,{currentFilter:e,onFilterChange:function(a){f(b=>({...b,...a}))}}),(0,h.jsxs)("div",{className:t.default.itemsSection,children:[(0,h.jsx)("div",{className:t.default.itemsHeader,children:(0,h.jsxs)("h2",{className:t.default.itemsTitle,children:[a.length," ",1===a.length?"Item":"Items"]})}),0===a.length?(0,h.jsxs)("div",{className:t.default.emptyState,children:[(0,h.jsx)("div",{className:t.default.emptyIcon,children:"ðŸ“‹"}),(0,h.jsx)("h3",{children:"No items found"}),(0,h.jsx)("p",{children:"There are no items matching your current filters."})]}):(0,h.jsx)("div",{className:t.default.itemsGrid,children:a.map(a=>(0,h.jsx)(o,{item:a,onUpdate:p},a.id))})]})]})}a.s(["default",()=>u],81688)}];

//# sourceMappingURL=src_app_ads_review_98da6994._.js.map