module.exports=[736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},346058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},739118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},402479,a=>{a.v({actions:"list-module__vX8uWq__actions",badge:"list-module__vX8uWq__badge",badgeButton:"list-module__vX8uWq__badgeButton",badgeDefault:"list-module__vX8uWq__badgeDefault",badgeHidden:"list-module__vX8uWq__badgeHidden",badgeInfo:"list-module__vX8uWq__badgeInfo",badgeSecondary:"list-module__vX8uWq__badgeSecondary",badgeSuccess:"list-module__vX8uWq__badgeSuccess",badgeVisible:"list-module__vX8uWq__badgeVisible",badgeWarning:"list-module__vX8uWq__badgeWarning",buttonDelete:"list-module__vX8uWq__buttonDelete",buttonEdit:"list-module__vX8uWq__buttonEdit",buttonPrimary:"list-module__vX8uWq__buttonPrimary",buttonSecondary:"list-module__vX8uWq__buttonSecondary",container:"list-module__vX8uWq__container",content:"list-module__vX8uWq__content",emptyState:"list-module__vX8uWq__emptyState",error:"list-module__vX8uWq__error",filterGroup:"list-module__vX8uWq__filterGroup",filterSelect:"list-module__vX8uWq__filterSelect",filters:"list-module__vX8uWq__filters",footer:"list-module__vX8uWq__footer",header:"list-module__vX8uWq__header",link:"list-module__vX8uWq__link",loading:"list-module__vX8uWq__loading",muted:"list-module__vX8uWq__muted",searchBox:"list-module__vX8uWq__searchBox",searchInput:"list-module__vX8uWq__searchInput",subtitle:"list-module__vX8uWq__subtitle",success:"list-module__vX8uWq__success",table:"list-module__vX8uWq__table"})},845756,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(402479);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("all"),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(null);(0,c.useEffect)(()=>{x()},[p]),(0,c.useEffect)(()=>{let a=h;if("all"!==n){let b="visible"===n;a=a.filter(a=>a.attributes?.visible===b)}if(l.trim()){let b=l.toLowerCase();a=a.filter(a=>{let c=a.attributes?.name?.toLowerCase()||"",d=a.attributes?.url?.toLowerCase()||"",e=a.attributes?.state?.toLowerCase()||"";return c.includes(b)||d.includes(b)||e.includes(b)})}k(a)},[h,l,n]);let x=async()=>{try{g(!0),s(null);let a=new URLSearchParams;p&&a.set("appId",p);let b=await fetch(`/api/cpp/list?${a}`),c=await b.json();c.success?i(c.data):s(c.error||"Failed to load custom product pages")}catch(a){s(a instanceof Error?a.message:"Failed to load custom product pages")}finally{g(!1)}},y=async(a,b)=>{if(confirm(`Are you sure you want to delete "${b}"? This action cannot be undone.`))try{w(a),s(null);let b=await fetch(`/api/cpp/${a}`,{method:"DELETE"}),c=await b.json();c.success?(u("Custom product page deleted successfully"),i(b=>b.filter(b=>b.id!==a)),setTimeout(()=>u(null),3e3)):s(c.error||"Failed to delete custom product page")}catch(a){s(a instanceof Error?a.message:"Failed to delete custom product page")}finally{w(null)}},z=async a=>{try{s(null);let b=!a.attributes?.visible,c=await fetch(`/api/cpp/${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({visible:b})}),d=await c.json();d.success?(u(`Custom product page is now ${b?"visible":"hidden"}`),i(b=>b.map(b=>b.id===a.id?d.data:b)),setTimeout(()=>u(null),3e3)):s(d.error||"Failed to update visibility")}catch(a){s(a instanceof Error?a.message:"Failed to update visibility")}};return(0,b.jsxs)("div",{className:e.default.container,children:[(0,b.jsxs)("div",{className:e.default.header,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:"Custom Product Pages"}),(0,b.jsx)("p",{className:e.default.subtitle,children:"Manage your Custom Product Pages"})]}),(0,b.jsx)("button",{onClick:()=>a.push("/cpp"),className:e.default.buttonPrimary,children:"Create New CPP"})]}),(0,b.jsxs)("div",{className:e.default.filters,children:[(0,b.jsx)("div",{className:e.default.searchBox,children:(0,b.jsx)("input",{type:"text",placeholder:"Search by name, URL, or state...",value:l,onChange:a=>m(a.target.value),className:e.default.searchInput})}),(0,b.jsxs)("div",{className:e.default.filterGroup,children:[(0,b.jsx)("label",{children:"Visibility:"}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:e.default.filterSelect,children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"visible",children:"Visible"}),(0,b.jsx)("option",{value:"hidden",children:"Hidden"})]})]}),(0,b.jsx)("button",{onClick:x,disabled:f,className:e.default.buttonSecondary,children:f?"Refreshing...":"Refresh"})]}),r&&(0,b.jsxs)("div",{className:e.default.error,children:[(0,b.jsx)("strong",{children:"Error:"})," ",r]}),t&&(0,b.jsxs)("div",{className:e.default.success,children:[(0,b.jsx)("strong",{children:"Success:"})," ",t]}),(0,b.jsx)("div",{className:e.default.content,children:f&&0===h.length?(0,b.jsx)("div",{className:e.default.loading,children:"Loading custom product pages..."}):0===j.length?(0,b.jsx)("div",{className:e.default.emptyState,children:l||"all"!==n?(0,b.jsx)("p",{children:"No custom product pages match your filters."}):(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:"No custom product pages found."}),(0,b.jsx)("button",{onClick:()=>a.push("/cpp"),className:e.default.buttonPrimary,children:"Create First Custom Product Page"})]})}):(0,b.jsx)("div",{className:e.default.table,children:(0,b.jsxs)("table",{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"State"}),(0,b.jsx)("th",{children:"Visibility"}),(0,b.jsx)("th",{children:"URL"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:j.map(c=>{var d;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("strong",{children:c.attributes?.name||"Unnamed"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`${e.default.badge} ${(a=>{switch(a){case"READY_FOR_DISTRIBUTION":return e.default.badgeSuccess;case"PREPARE_FOR_SUBMISSION":return e.default.badgeWarning;case"PROCESSING_FOR_DISTRIBUTION":return e.default.badgeInfo;case"REPLACED_WITH_NEW_VERSION":return e.default.badgeSecondary;default:return e.default.badgeDefault}})(c.attributes?.state)}`,children:(d=c.attributes?.state)?d.split("_").map(a=>a.charAt(0)+a.slice(1).toLowerCase()).join(" "):"Unknown"})}),(0,b.jsx)("td",{children:(0,b.jsx)("button",{onClick:()=>z(c),className:`${e.default.badgeButton} ${c.attributes?.visible?e.default.badgeVisible:e.default.badgeHidden}`,title:"Click to toggle visibility",children:c.attributes?.visible?"Visible":"Hidden"})}),(0,b.jsx)("td",{children:c.attributes?.url?(0,b.jsx)("a",{href:c.attributes.url,target:"_blank",rel:"noopener noreferrer",className:e.default.link,children:c.attributes.url.length>40?c.attributes.url.substring(0,40)+"...":c.attributes.url}):(0,b.jsx)("span",{className:e.default.muted,children:"â€”"})}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:e.default.actions,children:[(0,b.jsx)("button",{onClick:()=>{var b;return b=c.id,void a.push(`/cpp/edit/${b}`)},className:e.default.buttonEdit,title:"Edit",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>y(c.id,c.attributes?.name||"this page"),disabled:v===c.id,className:e.default.buttonDelete,title:"Delete",children:v===c.id?"Deleting...":"Delete"})]})})]},c.id)})})]})})}),j.length>0&&(0,b.jsxs)("div",{className:e.default.footer,children:["Showing ",j.length," of ",h.length," custom product page",1!==h.length?"s":""]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e663017c._.js.map