module.exports=[79056,a=>{a.v({addButton:"campaign-module__W9x1wG__addButton",container:"campaign-module__W9x1wG__container",content:"campaign-module__W9x1wG__content",estimate:"campaign-module__W9x1wG__estimate",footer:"campaign-module__W9x1wG__footer",formGroup:"campaign-module__W9x1wG__formGroup",generateButton:"campaign-module__W9x1wG__generateButton",generateInfo:"campaign-module__W9x1wG__generateInfo",header:"campaign-module__W9x1wG__header",loading:"campaign-module__W9x1wG__loading",removeButton:"campaign-module__W9x1wG__removeButton",section:"campaign-module__W9x1wG__section",sectionHeader:"campaign-module__W9x1wG__sectionHeader",sizeCard:"campaign-module__W9x1wG__sizeCard",sizeCardActive:"campaign-module__W9x1wG__sizeCardActive",sizeCheckbox:"campaign-module__W9x1wG__sizeCheckbox",sizeDimensions:"campaign-module__W9x1wG__sizeDimensions",sizeGrid:"campaign-module__W9x1wG__sizeGrid",sizeName:"campaign-module__W9x1wG__sizeName",sizePlatform:"campaign-module__W9x1wG__sizePlatform",sizeRatio:"campaign-module__W9x1wG__sizeRatio",statCard:"campaign-module__W9x1wG__statCard",statLabel:"campaign-module__W9x1wG__statLabel",statValue:"campaign-module__W9x1wG__statValue",stats:"campaign-module__W9x1wG__stats",tab:"campaign-module__W9x1wG__tab",tabActive:"campaign-module__W9x1wG__tabActive",tabs:"campaign-module__W9x1wG__tabs",variantCard:"campaign-module__W9x1wG__variantCard",variantHeader:"campaign-module__W9x1wG__variantHeader",variantName:"campaign-module__W9x1wG__variantName"})},77862,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d="{variantName}_{sizeName}";var e=a.i(98110),f=a.i(54974),g=a.i(79056);let h=["example-hero-ad","example-quote-ad","example-minimal-ad","example-text-only-ad"];function i(){let[a,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)("example-hero-ad"),[p,q]=(0,c.useState)("settings");(0,c.useEffect)(()=>{r(n)},[n]),(0,c.useEffect)(()=>{(0,f.trackFeatureDiscovery)("campaign_generator")},[]);let r=async a=>{try{var b;k(!0);let c=await fetch(`/data/ads/${a}.json`),f=(b=await c.json(),{id:`campaign-${Date.now()}`,name:"New Campaign",description:"",baseTemplate:b,copyVariants:[{id:"variant-1",name:"Variant 1",headline:b.content.headline,subheadline:b.content.subheadline,body:b.content.body,cta:b.content.cta}],sizes:[],output:{format:"png",quality:90,fileNamingTemplate:d,organizationMode:"by-variant",includeManifest:!0},metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}});f.sizes=(0,e.getRecommendedSizes)().map(a=>({sizeId:a.id,enabled:!0})),i(f)}catch(a){console.error("Error loading template:",a)}finally{k(!1)}},s=(b,c)=>{a&&i({...a,[b]:c})},t=(b,c,d)=>{if(!a)return;let e=[...a.copyVariants];e[b]={...e[b],[c]:d},i({...a,copyVariants:e})},u=async()=>{let b,c,d;if(!a)return;let e=(b=[],a.name&&""!==a.name.trim()||b.push("Campaign name is required"),a.baseTemplate||b.push("Base template is required"),0===a.copyVariants.length&&b.push("At least one copy variant is required"),0===a.sizes.filter(a=>a.enabled).length&&b.push("At least one size must be selected"),d=new Set(c=a.copyVariants.map(a=>a.id)),c.length!==d.size&&b.push("Duplicate variant IDs found"),{valid:0===b.length,errors:b});if(!e.valid)return void alert(`Campaign validation failed:
${e.errors.join("\n")}`);m(!0);try{let b=await fetch("/api/campaign/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await b.json();c.success?alert(`Campaign generated successfully!
ZIP file: ${c.zipPath}
Total assets: ${c.totalAssets}`):alert(`Generation failed: ${c.error}`)}catch(a){console.error("Error generating campaign:",a),alert(`Error: ${a instanceof Error?a.message:String(a)}`)}finally{m(!1)}};if(j||!a)return(0,b.jsx)("div",{className:g.default.container,children:(0,b.jsx)("div",{className:g.default.loading,children:"Loading campaign generator..."})});let v=(0,e.getAllSizes)(),w=a.copyVariants.length*a.sizes.filter(a=>a.enabled).length;return(0,b.jsxs)("div",{className:g.default.container,children:[(0,b.jsxs)("header",{className:g.default.header,children:[(0,b.jsx)("h1",{children:"Campaign Pack Generator"}),(0,b.jsx)("p",{children:"Generate all sizes for a campaign with copy variants"})]}),(0,b.jsxs)("div",{className:g.default.stats,children:[(0,b.jsxs)("div",{className:g.default.statCard,children:[(0,b.jsx)("div",{className:g.default.statValue,children:a.copyVariants.length}),(0,b.jsx)("div",{className:g.default.statLabel,children:"Variants"})]}),(0,b.jsxs)("div",{className:g.default.statCard,children:[(0,b.jsx)("div",{className:g.default.statValue,children:a.sizes.filter(a=>a.enabled).length}),(0,b.jsx)("div",{className:g.default.statLabel,children:"Sizes"})]}),(0,b.jsxs)("div",{className:g.default.statCard,children:[(0,b.jsx)("div",{className:g.default.statValue,children:w}),(0,b.jsx)("div",{className:g.default.statLabel,children:"Total Assets"})]}),(0,b.jsxs)("div",{className:g.default.statCard,children:[(0,b.jsx)("div",{className:g.default.statValue,children:Math.ceil(2*w/60)}),(0,b.jsx)("div",{className:g.default.statLabel,children:"Est. Minutes"})]})]}),(0,b.jsxs)("div",{className:g.default.tabs,children:[(0,b.jsx)("button",{className:"settings"===p?g.default.tabActive:g.default.tab,onClick:()=>q("settings"),children:"Campaign Settings"}),(0,b.jsxs)("button",{className:"variants"===p?g.default.tabActive:g.default.tab,onClick:()=>q("variants"),children:["Copy Variants (",a.copyVariants.length,")"]}),(0,b.jsxs)("button",{className:"sizes"===p?g.default.tabActive:g.default.tab,onClick:()=>q("sizes"),children:["Sizes (",a.sizes.filter(a=>a.enabled).length,")"]}),(0,b.jsx)("button",{className:"output"===p?g.default.tabActive:g.default.tab,onClick:()=>q("output"),children:"Output Settings"})]}),(0,b.jsxs)("div",{className:g.default.content,children:["settings"===p&&(0,b.jsxs)("div",{className:g.default.section,children:[(0,b.jsx)("h2",{children:"Campaign Settings"}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Campaign Name"}),(0,b.jsx)("input",{type:"text",value:a.name,onChange:a=>s("name",a.target.value),placeholder:"My Campaign"})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Description"}),(0,b.jsx)("textarea",{value:a.description||"",onChange:a=>s("description",a.target.value),placeholder:"Optional campaign description",rows:3})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Base Template"}),(0,b.jsx)("select",{value:n,onChange:a=>o(a.target.value),children:h.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Client/Brand (Optional)"}),(0,b.jsx)("input",{type:"text",value:a.metadata?.client||"",onChange:b=>s("metadata",{...a.metadata,client:b.target.value}),placeholder:"Client or brand name"})]})]}),"variants"===p&&(0,b.jsxs)("div",{className:g.default.section,children:[(0,b.jsxs)("div",{className:g.default.sectionHeader,children:[(0,b.jsx)("h2",{children:"Copy Variants"}),(0,b.jsx)("button",{onClick:()=>{if(!a)return;let b={id:`variant-${Date.now()}`,name:`Variant ${a.copyVariants.length+1}`,headline:a.baseTemplate.content.headline,subheadline:a.baseTemplate.content.subheadline,body:a.baseTemplate.content.body,cta:a.baseTemplate.content.cta};i({...a,copyVariants:[...a.copyVariants,b]})},className:g.default.addButton,children:"+ Add Variant"})]}),a.copyVariants.map((c,d)=>(0,b.jsxs)("div",{className:g.default.variantCard,children:[(0,b.jsxs)("div",{className:g.default.variantHeader,children:[(0,b.jsx)("input",{type:"text",value:c.name,onChange:a=>t(d,"name",a.target.value),className:g.default.variantName,placeholder:"Variant name"}),a.copyVariants.length>1&&(0,b.jsx)("button",{onClick:()=>(b=>{if(!a||a.copyVariants.length<=1)return;let c=a.copyVariants.filter((a,c)=>c!==b);i({...a,copyVariants:c})})(d),className:g.default.removeButton,children:"Remove"})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Headline"}),(0,b.jsx)("input",{type:"text",value:c.headline||"",onChange:a=>t(d,"headline",a.target.value),placeholder:"Headline text"})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Subheadline"}),(0,b.jsx)("input",{type:"text",value:c.subheadline||"",onChange:a=>t(d,"subheadline",a.target.value),placeholder:"Subheadline text"})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Body"}),(0,b.jsx)("textarea",{value:c.body||"",onChange:a=>t(d,"body",a.target.value),placeholder:"Body copy",rows:3})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Call to Action"}),(0,b.jsx)("input",{type:"text",value:c.cta||"",onChange:a=>t(d,"cta",a.target.value),placeholder:"CTA text"})]})]},c.id))]}),"sizes"===p&&(0,b.jsxs)("div",{className:g.default.section,children:[(0,b.jsx)("h2",{children:"Select Ad Sizes"}),(0,b.jsx)("div",{className:g.default.sizeGrid,children:v.map(c=>{let d=a.sizes.find(a=>a.sizeId===c.id)?.enabled||!1;return(0,b.jsxs)("div",{className:d?g.default.sizeCardActive:g.default.sizeCard,onClick:()=>(b=>{if(!a)return;let c=a.sizes.findIndex(a=>a.sizeId===b);if(c>=0){let b=[...a.sizes];b[c]={...b[c],enabled:!b[c].enabled},i({...a,sizes:b})}else i({...a,sizes:[...a.sizes,{sizeId:b,enabled:!0}]})})(c.id),children:[(0,b.jsx)("div",{className:g.default.sizeCheckbox,children:(0,b.jsx)("input",{type:"checkbox",checked:d,readOnly:!0})}),(0,b.jsx)("div",{className:g.default.sizeName,children:c.name}),(0,b.jsxs)("div",{className:g.default.sizeDimensions,children:[c.width," × ",c.height]}),(0,b.jsx)("div",{className:g.default.sizePlatform,children:c.platform}),(0,b.jsx)("div",{className:g.default.sizeRatio,children:c.aspectRatio})]},c.id)})})]}),"output"===p&&(0,b.jsxs)("div",{className:g.default.section,children:[(0,b.jsx)("h2",{children:"Output Settings"}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Image Format"}),(0,b.jsxs)("select",{value:a.output.format,onChange:b=>s("output",{...a.output,format:b.target.value}),children:[(0,b.jsx)("option",{value:"png",children:"PNG"}),(0,b.jsx)("option",{value:"jpeg",children:"JPEG"}),(0,b.jsx)("option",{value:"webp",children:"WebP"})]})]}),("jpeg"===a.output.format||"webp"===a.output.format)&&(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Quality (0-100)"}),(0,b.jsx)("input",{type:"number",min:"1",max:"100",value:a.output.quality||90,onChange:b=>s("output",{...a.output,quality:parseInt(b.target.value)})})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"Organization Mode"}),(0,b.jsxs)("select",{value:a.output.organizationMode,onChange:b=>s("output",{...a.output,organizationMode:b.target.value}),children:[(0,b.jsx)("option",{value:"by-variant",children:"By Variant (variant/size/file.png)"}),(0,b.jsx)("option",{value:"by-size",children:"By Size (size/variant/file.png)"}),(0,b.jsx)("option",{value:"flat",children:"Flat (all files in root)"})]})]}),(0,b.jsxs)("div",{className:g.default.formGroup,children:[(0,b.jsx)("label",{children:"File Naming Template"}),(0,b.jsxs)("select",{value:a.output.fileNamingTemplate,onChange:b=>s("output",{...a.output,fileNamingTemplate:b.target.value}),children:[(0,b.jsx)("option",{value:d,children:"Variant_Size (e.g., Variant1_InstagramSquare.png)"}),(0,b.jsx)("option",{value:"{sizeName}_{variantName}",children:"Size_Variant (e.g., InstagramSquare_Variant1.png)"}),(0,b.jsx)("option",{value:"{campaignName}_{variantName}_{width}x{height}",children:"Campaign_Variant_Dimensions (e.g., Campaign_Variant1_1080x1080.png)"}),(0,b.jsx)("option",{value:"{variantName}_{platform}_{width}x{height}",children:"Variant_Platform_Dimensions (e.g., Variant1_Instagram_1080x1080.png)"})]})]}),(0,b.jsx)("div",{className:g.default.formGroup,children:(0,b.jsxs)("label",{children:[(0,b.jsx)("input",{type:"checkbox",checked:a.output.includeManifest,onChange:b=>s("output",{...a.output,includeManifest:b.target.checked})}),(0,b.jsx)("span",{children:"Include manifest.json file"})]})})]})]}),(0,b.jsxs)("div",{className:g.default.footer,children:[(0,b.jsxs)("div",{className:g.default.generateInfo,children:[(0,b.jsxs)("p",{children:["This will generate ",(0,b.jsxs)("strong",{children:[w," assets"]})," (",a.copyVariants.length," variants × ",a.sizes.filter(a=>a.enabled).length," ","sizes)"]}),(0,b.jsxs)("p",{className:g.default.estimate,children:["Estimated time: ~",Math.ceil(2*w/60)," minutes"]})]}),(0,b.jsx)("button",{onClick:u,disabled:l||0===w,className:g.default.generateButton,children:l?"Generating...":`Generate Campaign (${w} assets)`})]})]})}a.s(["default",()=>i],77862)}];

//# sourceMappingURL=src_app_ads_campaign_743dfb94._.js.map