{"version":3,"sources":["turbopack:///[project]/src/app/ads/campaign/campaign.module.css [app-ssr] (css module)","../../../../src/app/ads/campaign/page.tsx","../../../../src/types/campaign.ts"],"sourcesContent":["__turbopack_context__.v({\n  \"addButton\": \"campaign-module__W9x1wG__addButton\",\n  \"container\": \"campaign-module__W9x1wG__container\",\n  \"content\": \"campaign-module__W9x1wG__content\",\n  \"estimate\": \"campaign-module__W9x1wG__estimate\",\n  \"footer\": \"campaign-module__W9x1wG__footer\",\n  \"formGroup\": \"campaign-module__W9x1wG__formGroup\",\n  \"generateButton\": \"campaign-module__W9x1wG__generateButton\",\n  \"generateInfo\": \"campaign-module__W9x1wG__generateInfo\",\n  \"header\": \"campaign-module__W9x1wG__header\",\n  \"loading\": \"campaign-module__W9x1wG__loading\",\n  \"removeButton\": \"campaign-module__W9x1wG__removeButton\",\n  \"section\": \"campaign-module__W9x1wG__section\",\n  \"sectionHeader\": \"campaign-module__W9x1wG__sectionHeader\",\n  \"sizeCard\": \"campaign-module__W9x1wG__sizeCard\",\n  \"sizeCardActive\": \"campaign-module__W9x1wG__sizeCardActive\",\n  \"sizeCheckbox\": \"campaign-module__W9x1wG__sizeCheckbox\",\n  \"sizeDimensions\": \"campaign-module__W9x1wG__sizeDimensions\",\n  \"sizeGrid\": \"campaign-module__W9x1wG__sizeGrid\",\n  \"sizeName\": \"campaign-module__W9x1wG__sizeName\",\n  \"sizePlatform\": \"campaign-module__W9x1wG__sizePlatform\",\n  \"sizeRatio\": \"campaign-module__W9x1wG__sizeRatio\",\n  \"statCard\": \"campaign-module__W9x1wG__statCard\",\n  \"statLabel\": \"campaign-module__W9x1wG__statLabel\",\n  \"statValue\": \"campaign-module__W9x1wG__statValue\",\n  \"stats\": \"campaign-module__W9x1wG__stats\",\n  \"tab\": \"campaign-module__W9x1wG__tab\",\n  \"tabActive\": \"campaign-module__W9x1wG__tabActive\",\n  \"tabs\": \"campaign-module__W9x1wG__tabs\",\n  \"variantCard\": \"campaign-module__W9x1wG__variantCard\",\n  \"variantHeader\": \"campaign-module__W9x1wG__variantHeader\",\n  \"variantName\": \"campaign-module__W9x1wG__variantName\",\n});\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Campaign,\n  CopyVariant,\n  CampaignSize,\n  createDefaultCampaign,\n  getTotalAssetCount,\n  validateCampaign,\n  FILE_NAMING_TEMPLATES,\n} from '../../../types/campaign';\nimport { AdTemplate } from '../../../types/adTemplate';\nimport {\n  getAllSizes,\n  getRecommendedSizes,\n  getSizesByPlatform,\n  AdSize,\n  AdPlatform,\n} from '../../../config/adSizes';\nimport { trackFeatureDiscovery } from '../../../services/retentionTracking';\nimport styles from './campaign.module.css';\n\n// Sample templates\nconst STARTER_TEMPLATES = [\n  'example-hero-ad',\n  'example-quote-ad',\n  'example-minimal-ad',\n  'example-text-only-ad',\n];\n\nexport default function CampaignPackGeneratorPage() {\n  const [campaign, setCampaign] = useState<Campaign | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [generating, setGenerating] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState('example-hero-ad');\n  const [activeTab, setActiveTab] = useState<'settings' | 'variants' | 'sizes' | 'output'>(\n    'settings'\n  );\n\n  // Load initial template and create default campaign\n  useEffect(() => {\n    loadTemplateAndCreateCampaign(selectedTemplate);\n  }, [selectedTemplate]);\n\n  // Track feature discovery\n  useEffect(() => {\n    trackFeatureDiscovery('campaign_generator');\n  }, []);\n\n  const loadTemplateAndCreateCampaign = async (templateId: string) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/data/ads/${templateId}.json`);\n      const template: AdTemplate = await response.json();\n\n      // Create default campaign with this template\n      const newCampaign = createDefaultCampaign(template);\n\n      // Add recommended sizes by default\n      const recommendedSizes = getRecommendedSizes();\n      newCampaign.sizes = recommendedSizes.map((size) => ({\n        sizeId: size.id,\n        enabled: true,\n      }));\n\n      setCampaign(newCampaign);\n    } catch (error) {\n      console.error('Error loading template:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateCampaignField = (field: keyof Campaign, value: any) => {\n    if (!campaign) return;\n    setCampaign({ ...campaign, [field]: value });\n  };\n\n  const addVariant = () => {\n    if (!campaign) return;\n\n    const newVariant: CopyVariant = {\n      id: `variant-${Date.now()}`,\n      name: `Variant ${campaign.copyVariants.length + 1}`,\n      headline: campaign.baseTemplate.content.headline,\n      subheadline: campaign.baseTemplate.content.subheadline,\n      body: campaign.baseTemplate.content.body,\n      cta: campaign.baseTemplate.content.cta,\n    };\n\n    setCampaign({\n      ...campaign,\n      copyVariants: [...campaign.copyVariants, newVariant],\n    });\n  };\n\n  const updateVariant = (index: number, field: keyof CopyVariant, value: any) => {\n    if (!campaign) return;\n\n    const updatedVariants = [...campaign.copyVariants];\n    updatedVariants[index] = { ...updatedVariants[index], [field]: value };\n\n    setCampaign({ ...campaign, copyVariants: updatedVariants });\n  };\n\n  const removeVariant = (index: number) => {\n    if (!campaign || campaign.copyVariants.length <= 1) return;\n\n    const updatedVariants = campaign.copyVariants.filter((_, i) => i !== index);\n    setCampaign({ ...campaign, copyVariants: updatedVariants });\n  };\n\n  const toggleSize = (sizeId: string) => {\n    if (!campaign) return;\n\n    const existingIndex = campaign.sizes.findIndex((s) => s.sizeId === sizeId);\n    if (existingIndex >= 0) {\n      const updatedSizes = [...campaign.sizes];\n      updatedSizes[existingIndex] = {\n        ...updatedSizes[existingIndex],\n        enabled: !updatedSizes[existingIndex].enabled,\n      };\n      setCampaign({ ...campaign, sizes: updatedSizes });\n    } else {\n      setCampaign({\n        ...campaign,\n        sizes: [...campaign.sizes, { sizeId, enabled: true }],\n      });\n    }\n  };\n\n  const handleGenerate = async () => {\n    if (!campaign) return;\n\n    const validation = validateCampaign(campaign);\n    if (!validation.valid) {\n      alert(`Campaign validation failed:\\n${validation.errors.join('\\n')}`);\n      return;\n    }\n\n    setGenerating(true);\n    try {\n      const response = await fetch('/api/campaign/generate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(campaign),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        alert(\n          `Campaign generated successfully!\\nZIP file: ${result.zipPath}\\nTotal assets: ${result.totalAssets}`\n        );\n      } else {\n        alert(`Generation failed: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error generating campaign:', error);\n      alert(`Error: ${error instanceof Error ? error.message : String(error)}`);\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  if (loading || !campaign) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.loading}>Loading campaign generator...</div>\n      </div>\n    );\n  }\n\n  const allSizes = getAllSizes();\n  const totalAssets = getTotalAssetCount(campaign);\n  // const estimate = estimateCampaignTime(campaign); // TODO: Implement this function\n\n  return (\n    <div className={styles.container}>\n      <header className={styles.header}>\n        <h1>Campaign Pack Generator</h1>\n        <p>Generate all sizes for a campaign with copy variants</p>\n      </header>\n\n      <div className={styles.stats}>\n        <div className={styles.statCard}>\n          <div className={styles.statValue}>{campaign.copyVariants.length}</div>\n          <div className={styles.statLabel}>Variants</div>\n        </div>\n        <div className={styles.statCard}>\n          <div className={styles.statValue}>\n            {campaign.sizes.filter((s) => s.enabled).length}\n          </div>\n          <div className={styles.statLabel}>Sizes</div>\n        </div>\n        <div className={styles.statCard}>\n          <div className={styles.statValue}>{totalAssets}</div>\n          <div className={styles.statLabel}>Total Assets</div>\n        </div>\n        <div className={styles.statCard}>\n          <div className={styles.statValue}>{Math.ceil(totalAssets * 2 / 60)}</div>\n          <div className={styles.statLabel}>Est. Minutes</div>\n        </div>\n      </div>\n\n      <div className={styles.tabs}>\n        <button\n          className={activeTab === 'settings' ? styles.tabActive : styles.tab}\n          onClick={() => setActiveTab('settings')}\n        >\n          Campaign Settings\n        </button>\n        <button\n          className={activeTab === 'variants' ? styles.tabActive : styles.tab}\n          onClick={() => setActiveTab('variants')}\n        >\n          Copy Variants ({campaign.copyVariants.length})\n        </button>\n        <button\n          className={activeTab === 'sizes' ? styles.tabActive : styles.tab}\n          onClick={() => setActiveTab('sizes')}\n        >\n          Sizes ({campaign.sizes.filter((s) => s.enabled).length})\n        </button>\n        <button\n          className={activeTab === 'output' ? styles.tabActive : styles.tab}\n          onClick={() => setActiveTab('output')}\n        >\n          Output Settings\n        </button>\n      </div>\n\n      <div className={styles.content}>\n        {activeTab === 'settings' && (\n          <div className={styles.section}>\n            <h2>Campaign Settings</h2>\n\n            <div className={styles.formGroup}>\n              <label>Campaign Name</label>\n              <input\n                type=\"text\"\n                value={campaign.name}\n                onChange={(e) => updateCampaignField('name', e.target.value)}\n                placeholder=\"My Campaign\"\n              />\n            </div>\n\n            <div className={styles.formGroup}>\n              <label>Description</label>\n              <textarea\n                value={campaign.description || ''}\n                onChange={(e) => updateCampaignField('description', e.target.value)}\n                placeholder=\"Optional campaign description\"\n                rows={3}\n              />\n            </div>\n\n            <div className={styles.formGroup}>\n              <label>Base Template</label>\n              <select\n                value={selectedTemplate}\n                onChange={(e) => setSelectedTemplate(e.target.value)}\n              >\n                {STARTER_TEMPLATES.map((tpl) => (\n                  <option key={tpl} value={tpl}>\n                    {tpl}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className={styles.formGroup}>\n              <label>Client/Brand (Optional)</label>\n              <input\n                type=\"text\"\n                value={campaign.metadata?.client || ''}\n                onChange={(e) =>\n                  updateCampaignField('metadata', {\n                    ...campaign.metadata,\n                    client: e.target.value,\n                  })\n                }\n                placeholder=\"Client or brand name\"\n              />\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'variants' && (\n          <div className={styles.section}>\n            <div className={styles.sectionHeader}>\n              <h2>Copy Variants</h2>\n              <button onClick={addVariant} className={styles.addButton}>\n                + Add Variant\n              </button>\n            </div>\n\n            {campaign.copyVariants.map((variant, index) => (\n              <div key={variant.id} className={styles.variantCard}>\n                <div className={styles.variantHeader}>\n                  <input\n                    type=\"text\"\n                    value={variant.name}\n                    onChange={(e) => updateVariant(index, 'name', e.target.value)}\n                    className={styles.variantName}\n                    placeholder=\"Variant name\"\n                  />\n                  {campaign.copyVariants.length > 1 && (\n                    <button\n                      onClick={() => removeVariant(index)}\n                      className={styles.removeButton}\n                    >\n                      Remove\n                    </button>\n                  )}\n                </div>\n\n                <div className={styles.formGroup}>\n                  <label>Headline</label>\n                  <input\n                    type=\"text\"\n                    value={variant.headline || ''}\n                    onChange={(e) => updateVariant(index, 'headline', e.target.value)}\n                    placeholder=\"Headline text\"\n                  />\n                </div>\n\n                <div className={styles.formGroup}>\n                  <label>Subheadline</label>\n                  <input\n                    type=\"text\"\n                    value={variant.subheadline || ''}\n                    onChange={(e) => updateVariant(index, 'subheadline', e.target.value)}\n                    placeholder=\"Subheadline text\"\n                  />\n                </div>\n\n                <div className={styles.formGroup}>\n                  <label>Body</label>\n                  <textarea\n                    value={variant.body || ''}\n                    onChange={(e) => updateVariant(index, 'body', e.target.value)}\n                    placeholder=\"Body copy\"\n                    rows={3}\n                  />\n                </div>\n\n                <div className={styles.formGroup}>\n                  <label>Call to Action</label>\n                  <input\n                    type=\"text\"\n                    value={variant.cta || ''}\n                    onChange={(e) => updateVariant(index, 'cta', e.target.value)}\n                    placeholder=\"CTA text\"\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {activeTab === 'sizes' && (\n          <div className={styles.section}>\n            <h2>Select Ad Sizes</h2>\n\n            <div className={styles.sizeGrid}>\n              {allSizes.map((size) => {\n                const isEnabled =\n                  campaign.sizes.find((s) => s.sizeId === size.id)?.enabled || false;\n\n                return (\n                  <div\n                    key={size.id}\n                    className={isEnabled ? styles.sizeCardActive : styles.sizeCard}\n                    onClick={() => toggleSize(size.id)}\n                  >\n                    <div className={styles.sizeCheckbox}>\n                      <input type=\"checkbox\" checked={isEnabled} readOnly />\n                    </div>\n                    <div className={styles.sizeName}>{size.name}</div>\n                    <div className={styles.sizeDimensions}>\n                      {size.width} × {size.height}\n                    </div>\n                    <div className={styles.sizePlatform}>{size.platform}</div>\n                    <div className={styles.sizeRatio}>{size.aspectRatio}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'output' && (\n          <div className={styles.section}>\n            <h2>Output Settings</h2>\n\n            <div className={styles.formGroup}>\n              <label>Image Format</label>\n              <select\n                value={campaign.output.format}\n                onChange={(e) =>\n                  updateCampaignField('output', {\n                    ...campaign.output,\n                    format: e.target.value,\n                  })\n                }\n              >\n                <option value=\"png\">PNG</option>\n                <option value=\"jpeg\">JPEG</option>\n                <option value=\"webp\">WebP</option>\n              </select>\n            </div>\n\n            {(campaign.output.format === 'jpeg' || campaign.output.format === 'webp') && (\n              <div className={styles.formGroup}>\n                <label>Quality (0-100)</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"100\"\n                  value={campaign.output.quality || 90}\n                  onChange={(e) =>\n                    updateCampaignField('output', {\n                      ...campaign.output,\n                      quality: parseInt(e.target.value),\n                    })\n                  }\n                />\n              </div>\n            )}\n\n            <div className={styles.formGroup}>\n              <label>Organization Mode</label>\n              <select\n                value={campaign.output.organizationMode}\n                onChange={(e) =>\n                  updateCampaignField('output', {\n                    ...campaign.output,\n                    organizationMode: e.target.value,\n                  })\n                }\n              >\n                <option value=\"by-variant\">By Variant (variant/size/file.png)</option>\n                <option value=\"by-size\">By Size (size/variant/file.png)</option>\n                <option value=\"flat\">Flat (all files in root)</option>\n              </select>\n            </div>\n\n            <div className={styles.formGroup}>\n              <label>File Naming Template</label>\n              <select\n                value={campaign.output.fileNamingTemplate}\n                onChange={(e) =>\n                  updateCampaignField('output', {\n                    ...campaign.output,\n                    fileNamingTemplate: e.target.value,\n                  })\n                }\n              >\n                <option value={FILE_NAMING_TEMPLATES.VARIANT_SIZE}>\n                  Variant_Size (e.g., Variant1_InstagramSquare.png)\n                </option>\n                <option value={FILE_NAMING_TEMPLATES.SIZE_VARIANT}>\n                  Size_Variant (e.g., InstagramSquare_Variant1.png)\n                </option>\n                <option value={FILE_NAMING_TEMPLATES.CAMPAIGN_VARIANT_DIMENSIONS}>\n                  Campaign_Variant_Dimensions (e.g., Campaign_Variant1_1080x1080.png)\n                </option>\n                <option value={FILE_NAMING_TEMPLATES.VARIANT_PLATFORM_DIMENSIONS}>\n                  Variant_Platform_Dimensions (e.g., Variant1_Instagram_1080x1080.png)\n                </option>\n              </select>\n            </div>\n\n            <div className={styles.formGroup}>\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={campaign.output.includeManifest}\n                  onChange={(e) =>\n                    updateCampaignField('output', {\n                      ...campaign.output,\n                      includeManifest: e.target.checked,\n                    })\n                  }\n                />\n                <span>Include manifest.json file</span>\n              </label>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className={styles.footer}>\n        <div className={styles.generateInfo}>\n          <p>\n            This will generate <strong>{totalAssets} assets</strong> (\n            {campaign.copyVariants.length} variants × {campaign.sizes.filter((s) => s.enabled).length}{' '}\n            sizes)\n          </p>\n          <p className={styles.estimate}>\n            Estimated time: ~{Math.ceil(totalAssets * 2 / 60)} minutes\n          </p>\n        </div>\n        <button\n          onClick={handleGenerate}\n          disabled={generating || totalAssets === 0}\n          className={styles.generateButton}\n        >\n          {generating ? 'Generating...' : `Generate Campaign (${totalAssets} assets)`}\n        </button>\n      </div>\n    </div>\n  );\n}\n","/**\n * Campaign Types - ADS-011\n * Type definitions for campaign pack generation with copy variants\n */\n\nimport { AdTemplate } from './adTemplate';\nimport { AdSize } from '../config/adSizes';\n\n/**\n * Copy variant for a campaign\n * Each variant represents a different version of the ad copy\n */\nexport interface CopyVariant {\n  /** Unique identifier for this variant */\n  id: string;\n  /** Name/label for this variant */\n  name: string;\n  /** Headline text */\n  headline?: string;\n  /** Subheadline text */\n  subheadline?: string;\n  /** Body copy */\n  body?: string;\n  /** Call-to-action text */\n  cta?: string;\n  /** Optional description for this variant */\n  description?: string;\n}\n\n/**\n * Campaign size selection\n * Combines an AdSize with optional size-specific overrides\n */\nexport interface CampaignSize {\n  /** Reference to the AdSize preset */\n  sizeId: string;\n  /** Whether this size is included in the campaign */\n  enabled: boolean;\n  /** Optional custom name override for this specific campaign */\n  customName?: string;\n}\n\n/**\n * Campaign configuration\n */\nexport interface Campaign {\n  /** Unique identifier */\n  id: string;\n  /** Campaign name */\n  name: string;\n  /** Campaign description */\n  description?: string;\n  /** Base template to use for all variants */\n  baseTemplate: AdTemplate;\n  /** Copy variants */\n  copyVariants: CopyVariant[];\n  /** Selected sizes */\n  sizes: CampaignSize[];\n  /** Output settings */\n  output: CampaignOutputSettings;\n  /** Metadata */\n  metadata?: CampaignMetadata;\n}\n\n/**\n * Output settings for campaign generation\n */\nexport interface CampaignOutputSettings {\n  /** Image format (png, jpeg, webp) */\n  format: 'png' | 'jpeg' | 'webp';\n  /** Quality for lossy formats (0-100) */\n  quality?: number;\n  /** File naming template */\n  fileNamingTemplate: string;\n  /** Whether to organize by variant or by size */\n  organizationMode: 'by-variant' | 'by-size' | 'flat';\n  /** Whether to include a manifest.json file */\n  includeManifest: boolean;\n}\n\n/**\n * Campaign metadata\n */\nexport interface CampaignMetadata {\n  /** Client/company name */\n  client?: string;\n  /** Brand/product name */\n  brand?: string;\n  /** Campaign objective */\n  objective?: string;\n  /** Target platforms */\n  platforms?: string[];\n  /** Tags for filtering/searching */\n  tags?: string[];\n  /** Created timestamp */\n  createdAt?: string;\n  /** Last modified timestamp */\n  updatedAt?: string;\n  /** Author */\n  author?: string;\n}\n\n/**\n * Generated campaign asset\n * Represents a single rendered asset in the campaign\n */\nexport interface CampaignAsset {\n  /** Unique identifier */\n  id: string;\n  /** Reference to the campaign */\n  campaignId: string;\n  /** Reference to the copy variant */\n  variantId: string;\n  /** Variant name for easy reference */\n  variantName: string;\n  /** Reference to the size */\n  sizeId: string;\n  /** Size name for easy reference */\n  sizeName: string;\n  /** Width in pixels */\n  width: number;\n  /** Height in pixels */\n  height: number;\n  /** File path (relative to campaign root) */\n  filePath: string;\n  /** File size in bytes */\n  fileSizeBytes?: number;\n  /** Render status */\n  status: 'pending' | 'rendering' | 'completed' | 'failed';\n  /** Error message if failed */\n  error?: string;\n  /** Timestamp when rendering started */\n  startedAt?: string;\n  /** Timestamp when rendering completed */\n  completedAt?: string;\n}\n\n/**\n * Campaign generation job\n * Tracks the overall progress of campaign generation\n */\nexport interface CampaignGenerationJob {\n  /** Job ID */\n  id: string;\n  /** Campaign being generated */\n  campaign: Campaign;\n  /** All assets to be generated */\n  assets: CampaignAsset[];\n  /** Overall job status */\n  status: 'queued' | 'in-progress' | 'completed' | 'failed' | 'cancelled';\n  /** Progress (0-100) */\n  progress: number;\n  /** Number of assets completed */\n  completedCount: number;\n  /** Number of assets failed */\n  failedCount: number;\n  /** Total number of assets */\n  totalCount: number;\n  /** Job started timestamp */\n  startedAt?: string;\n  /** Job completed timestamp */\n  completedAt?: string;\n  /** Output directory path */\n  outputDir?: string;\n  /** ZIP file path if generated */\n  zipFilePath?: string;\n}\n\n/**\n * Campaign manifest file content\n * Included in the campaign ZIP for metadata\n */\nexport interface CampaignManifest {\n  /** Campaign info */\n  campaign: {\n    id: string;\n    name: string;\n    description?: string;\n    generatedAt: string;\n  };\n  /** Copy variants info */\n  variants: Array<{\n    id: string;\n    name: string;\n    headline?: string;\n    subheadline?: string;\n    body?: string;\n    cta?: string;\n  }>;\n  /** Sizes info */\n  sizes: Array<{\n    id: string;\n    name: string;\n    width: number;\n    height: number;\n    platform: string;\n  }>;\n  /** Generated assets */\n  assets: Array<{\n    variantId: string;\n    variantName: string;\n    sizeId: string;\n    sizeName: string;\n    width: number;\n    height: number;\n    filePath: string;\n    fileSizeBytes?: number;\n  }>;\n  /** Generation stats */\n  stats: {\n    totalAssets: number;\n    totalVariants: number;\n    totalSizes: number;\n    totalSizeBytes?: number;\n    generationTimeMs?: number;\n  };\n}\n\n/**\n * File naming template variables\n */\nexport interface FileNamingVariables {\n  /** Campaign name */\n  campaignName: string;\n  /** Variant name */\n  variantName: string;\n  /** Variant ID */\n  variantId: string;\n  /** Size name */\n  sizeName: string;\n  /** Size ID */\n  sizeId: string;\n  /** Width */\n  width: number;\n  /** Height */\n  height: number;\n  /** Platform */\n  platform: string;\n  /** Index (1-based) */\n  index: number;\n  /** Timestamp */\n  timestamp: number;\n}\n\n/**\n * Default file naming templates\n */\nexport const FILE_NAMING_TEMPLATES = {\n  /** {variantName}_{sizeName} */\n  VARIANT_SIZE: '{variantName}_{sizeName}',\n  /** {sizeName}_{variantName} */\n  SIZE_VARIANT: '{sizeName}_{variantName}',\n  /** {campaignName}_{variantName}_{width}x{height} */\n  CAMPAIGN_VARIANT_DIMENSIONS: '{campaignName}_{variantName}_{width}x{height}',\n  /** {variantName}_{platform}_{width}x{height} */\n  VARIANT_PLATFORM_DIMENSIONS: '{variantName}_{platform}_{width}x{height}',\n  /** {index}_{variantName}_{sizeName} */\n  INDEX_VARIANT_SIZE: '{index}_{variantName}_{sizeName}',\n} as const;\n\n/**\n * Apply naming template to generate filename\n */\nexport function applyNamingTemplate(\n  template: string,\n  variables: FileNamingVariables,\n  format: 'png' | 'jpeg' | 'webp'\n): string {\n  let filename = template;\n\n  // Replace all variables\n  filename = filename.replace(/{campaignName}/g, sanitizeFilename(variables.campaignName));\n  filename = filename.replace(/{variantName}/g, sanitizeFilename(variables.variantName));\n  filename = filename.replace(/{variantId}/g, variables.variantId);\n  filename = filename.replace(/{sizeName}/g, sanitizeFilename(variables.sizeName));\n  filename = filename.replace(/{sizeId}/g, variables.sizeId);\n  filename = filename.replace(/{width}/g, String(variables.width));\n  filename = filename.replace(/{height}/g, String(variables.height));\n  filename = filename.replace(/{platform}/g, sanitizeFilename(variables.platform));\n  filename = filename.replace(/{index}/g, String(variables.index).padStart(3, '0'));\n  filename = filename.replace(/{timestamp}/g, String(variables.timestamp));\n\n  // Add extension\n  filename += `.${format}`;\n\n  return filename;\n}\n\n/**\n * Sanitize filename by removing invalid characters\n */\nexport function sanitizeFilename(name: string): string {\n  return name\n    .replace(/[^a-zA-Z0-9_-]/g, '_')  // Replace invalid chars with underscore\n    .replace(/_+/g, '_')                // Collapse multiple underscores\n    .replace(/^_|_$/g, '');             // Remove leading/trailing underscores\n}\n\n/**\n * Get total asset count for a campaign\n */\nexport function getTotalAssetCount(campaign: Campaign): number {\n  const variantCount = campaign.copyVariants.length;\n  const sizeCount = campaign.sizes.filter((s) => s.enabled).length;\n  return variantCount * sizeCount;\n}\n\n/**\n * Validate campaign before generation\n */\nexport function validateCampaign(campaign: Campaign): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n\n  if (!campaign.name || campaign.name.trim() === '') {\n    errors.push('Campaign name is required');\n  }\n\n  if (!campaign.baseTemplate) {\n    errors.push('Base template is required');\n  }\n\n  if (campaign.copyVariants.length === 0) {\n    errors.push('At least one copy variant is required');\n  }\n\n  const enabledSizes = campaign.sizes.filter((s) => s.enabled);\n  if (enabledSizes.length === 0) {\n    errors.push('At least one size must be selected');\n  }\n\n  // Check for duplicate variant IDs\n  const variantIds = campaign.copyVariants.map((v) => v.id);\n  const uniqueVariantIds = new Set(variantIds);\n  if (variantIds.length !== uniqueVariantIds.size) {\n    errors.push('Duplicate variant IDs found');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Create default campaign\n */\nexport function createDefaultCampaign(baseTemplate: AdTemplate): Campaign {\n  return {\n    id: `campaign-${Date.now()}`,\n    name: 'New Campaign',\n    description: '',\n    baseTemplate,\n    copyVariants: [\n      {\n        id: 'variant-1',\n        name: 'Variant 1',\n        headline: baseTemplate.content.headline,\n        subheadline: baseTemplate.content.subheadline,\n        body: baseTemplate.content.body,\n        cta: baseTemplate.content.cta,\n      },\n    ],\n    sizes: [],\n    output: {\n      format: 'png',\n      quality: 90,\n      fileNamingTemplate: FILE_NAMING_TEMPLATES.VARIANT_SIZE,\n      organizationMode: 'by-variant',\n      includeManifest: true,\n    },\n    metadata: {\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    },\n  };\n}\n"],"names":[],"mappings":"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"}